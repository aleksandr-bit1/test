openapi: 3.0.2
info:
  title: Aeroclub API
  description: |
    <a id="overview--policy"></a>
    
    # Коммерческая политика

    **Подписка "Работа с командировкой"**  
    Клиент может создавать, изменять, отменять командировку в своей системе. Аэроклуб будет принимать созданную в системе клиента командировку и отображать её в интерфейсе TIME

    |         Функционал         |         Подключение         |
    |----------------------------|-----------------------------|
    | Создание командировки      | входит в стоимость подписки |
    | Изменение дат командировки | входит в стоимость подписки |
    | Отмена командировки        | **платное**                 |
    | Интеграция чата            | **платное**                 |

    **Подписка "Интеграция данных по командировке и услугам"**  
    Аэроклуб передаёт данные о созданных в TIME командировках и услугах, клиент может отображать командировки и все обновления в своих системах

    |                 Функционал                |         Подключение         |
    |-------------------------------------------|-----------------------------|
    | Передавать данные о командировках TIME    | входит в стоимость подписки |
    | Передавать данные по оформленным услугам  | входит в стоимость подписки |
    | Данные по причинам нарушения TP           | **платное**                 |
    | Передача benchmark* в составе услуги авиа | **платное**                 |

    *benchmark - средняя стоимость билета по рынку по тому же направлению

    **Подписка "Внешняя авторизация"**  
    Схемы согласования командировок и/или услуг настраиваются внутренних системах клиента. Аэроклуб принимает статус авторизации для дальнейших действий с услугой или командировкой.

    |                     Функционал                     | Подключение |
    |----------------------------------------------------|-------------|
    | Авторизация услуг и командировки в системе клиента | **платное** |

    **Подписка "Поиск и оформление услуг"**  
    Клиент может реализовать собственный интерфейс для поиска и оформления авиа, ж/д билетов и гостиниц, используя API Аэроклуба

    |                 Функционал                 | Подключение |
    |--------------------------------------------|-------------|
    | Поиск и оформление услуг в системе клиента | **платное** |

    <br>

    # Аутентификация

    **Методы API**

    | # | Описание                        | Метод                                              |
    |---|---------------------------------|----------------------------------------------------|
    | 1 | Авторизация клиента | [PUT /oauth/{CompanyID}/fingerprint/{ProfileID}](#put-/oauth/-companyId-/fingerprint/-profileId-)     |
    | 2 | Метод выхода - SingOut          | [DELETE /oauth/{clientId}/fingerprint/{fingerprint}](#delete-/oauth/-companyId-/fingerprint/-profileId-) |

    <br>

    # Общий процесс создания командировки

    <a href="bpm/Создание командировки_общий процесс_.bpm">Создание командировки_общий процесс_.bpm</a>
    
    <a href="images/Создание командировки_общий процесс_new.png" target="_blank"><img src="images/Создание командировки_общий процесс_new.png"/></a>

    ## Описание процесса создания командировки

    1.  Выбрать город назначения
    2.  Выбрать интервал дат командировки
    3.  Выбрать путешественника
    4.  Выбрать компанию-плательщика
    5.  Выбрать форму оплаты
    6.  Создать "сущность" командировки (возможно 2 варианта: с простым маршрутом и сложными (несколько городов назначения))
    7.  Заполнить доп данные в командировке (если требуется)
    8.  Сохранить доп данные в командировке  
  
    > **Note:** Созданные с использование API командировки могут быть открыты в Тайме по ссылке. Командировка может быть передана как без доп данных и дополнена доп данными в Тайме, так и с доп данными и, далее, через Тайм наполнена услугами.

    При сохранении доп данных (вызов метода: [POST /journeys/{JN}/trips/{BTN}/stage/fact/customproperties](#post-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/customproperties)) происходит следующая проверка:

    -   наличие всех обязательных доп данных (в том числе и доп данных, закрепленных за профилем сотрудника)
    -   наличие в профиле заполненного пола
    -   наличие в профилие Фамилии и Имени на английском языке
    -   для доп данных с ручным заполнением проверяется соответствие переданных значений заложенным в доп данных форматам, если таковые предусмотрены

    при отсутствии каких-либо параметров из вышеперечисленных будет возвращена **ошибка: 500**

    ## Методы для создания командировки без доп данных

    ### Заполнение города назначения

    <a href="images/Заполнение города назначения.png" target="_blank"><img src="images/Заполнение города назначения.png"/></a>

    **Методы API**

    | # | Описание                                                 | Метод                                     |
    |---|----------------------------------------------------------|-------------------------------------------|
    | 1 | Поиск совпадений по поисковому запросу "Название города" | [GET /references?Query=Калинград&Type=City](#get-/references) |

    ### Заполнение путешественника

    <a href="images/Заполнение путешественника_c правками.png" target="_blank"><img src="images/Заполнение путешественника_c правками.png"/></a>

    **Комментарии к процессу:**

    Способы загрузки сотрудников с аналитиками в АК:

    -   через IHUB (Integration hub)
    -   через TIME / LINK
    -   через поддержку АК (загрузка Excel-файла или через агента)

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Поиск совпадений по поисковому запросу "ФИО сотрудника" | [GET /references/profiles](#get-/references/profiles) |

    ### Заполнение города отправления

    <a href="images/Заполнение города отправления.png" target="_blank"><img src="images/Заполнение города отправления.png"/></a>

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Поиск совпадений по поисковому запросу "Название города" | [GET /references?Query=Калинград&Type=City](#get-/references) |

    ### Заполнение компании-плательщика

    <a href="images/Заполнение компании-плательщика.png" target="_blank"><img src="images/Заполнение компании-плательщика.png"/></a>

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Загрузка списка доступных компаний для путешественника | [GET /companies/travellerProfiles/{profileId}/servicing](#get-/companies/travellerProfiles/-profileId-/servicing) |

    ### Заполнение формы оплаты

    <a href="images/Заполнение формы оплаты.png" target="_blank"><img src="images/Заполнение формы оплаты.png"/></a>

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Загрузка списка доступных пользователю способов оплаты | [GET /companies/{companyId}/profiles/{profileId}/allowedpaymentrequisites](#get-/companies/-companyId-/profiles/-profileId-/allowedpaymentrequisites) |

    ### Создание сущности командировки (простой маршрут)

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Создание "сущности" командировки | [PUT /journeys](#put-/journeys) |

    ### Создание сущности командировки (сложный маршрут)

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Создание "сущности" командировки | [PUT /journeysV2](#put-/journeysV2) |

    <br>

    # Заполнение доп данных в командировке (при наличие интерфейса на стороне клиента)

    **Общий процесс**

    <a href="images/Заполнение доп данных_общий процесс_new.png" target="_blank"><img src="images/Заполнение доп данных_общий процесс_new.png"/></a>

    **Комментарии к общему процессу заполнения доп данных**

    Способы загрузки справочников доп данных:
    -   через IHUB (Intagration hub)

    > **ВАЖНО**: Заполнение доп данных в командировке с использованием API возможно только при наличие интерфейса на стороне клиента.

    Альтернативные способы заполнения доп данных в командировке:
    -   через TIME / LINK
    -   с использованием IHUB (Intagration hub)

    **Нюансы метода ["GET /journey/{journeyNumber}/businessTrip/{businessTripNumber}/stage/fact/customproperties"](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/customProperties):**

    1.  Если используются зависимые доп данные, то при вызове данного метода будет отдан список только родительских доп данных, после заполнения значений которых, вызвав метод ["PUT /journey/{journeyNumber}/trips/{businessTripNumber}/stage/fact/analytics/{сustomPropertyId}/values/{сustomPropertyValueId}/dependent"](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/analytics/-customPropertyId-/values/-customPropertyValueId-/dependent) можно получить список зависимых доп данных - метод вызывается после заполнения каждого доп данного с выбором из списка, если предусмотрена работа с зависимыми доп данными  

    2.  если для доп данных с заполнением manual (ручным) предусмотрен формат заполнения, то метод отдает **Параметр: "format_rule": { }**, который можно использовать для валидация заполнения таких доп данных.

    **Процесс заполнения доп данных с ручным вводом**

    <a href="images/Заполнение доп данных input.png" target="_blank"><img src="images/Заполнение доп данных input.png"/></a>

    **Процесс заполнения списковых доп данных:**

    <a href="images/Заполнение списковых доп данных.png" target="_blank"><img src="images/Заполнение списковых доп данных.png"/></a>

    **Методы API**

    | # | Описание                                            | Метод                                                                                                                                    |
    |---|-----------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
    | 1 | Получение списка основных доп данных для заполнения | [GET /journey/{journeyNumber}/businessTrip/{businessTripNumber}/stage/fact/customproperties](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/customProperties)                                              |
    | 2 | Получение списка зависимых доп данных               | [PUT /journey/{journeyNumber}/trips/{businessTripNumber}/stage/fact/analytics/{сustomPropertyId}/values/{сustomPropertyValueId}/dependent](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/analytics/-customPropertyId-/values/-customPropertyValueId-/dependent) |

    ## Сохранение доп данных в командировке

    Метод **[POST/journeys/{JN}/trips/{BTN}/stage/fact/customproperties](#post-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/customproperties)**

    **Описание процесса заполнения и сохранения доп данных в командировке (при наличие интерфейса)**

    1.  Пользователь перешел к заполнению доп данных

    2.  Запрос на получение списка доп данных - метод отдает доп данные с ручным заполнением, а также их форматы, если таковые предусмотрены (возможно использование для проверки валидности данных до передачи значений на сторону АК), а также метод отдает доп данные с выбором из списка (только "родительские", если есть зависимость доп данных (родительский →дочерний)) и весь список доп данных, если зависимость не предусмотрена

    3.  Заполнение доп данных с ручным вводом, проверка на корректность заведения (проверка соответствия переданному формату, если таковой предусмотрен) и сохранение введенных значений для передачи в командировку на сторону АК

    4.  Заполнение доп данных с выбором из списка, заполнение зависимых доп данных (если таковые предусмотрены) от выбранных значений и сохранение выбранных значений для передачи в командировку на сторону АК

    5.  Сохранение доп данных в командировке на стороне АК

    >**Возможные расширения функционала**

    >Запрос детализации по командировке после ее загрузки или заполнения доп данных: метод [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-) 

    <br>

    # Получение данных по командировке при наличие номеров поездки и командировки

    Для получения данных по командировке (при наличие номера поездки и командироки) используется метод, описанный ниже:

    **Методы API**

    | # | Описание                                                | Метод                    |
    |---|---------------------------------------------------------|--------------------------|
    | 1 | Получение данных по командировке | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-) |

    ## Альтернативный вариант получения данных по командировкам

    <a href="bpm/Процесс получения данных по командировкам.bpm">Процесс получения данных по командировкам.bpm</a>

    **Процесс получения данных по командировкам**

    <a href="images/Процесс получения данных по командировкам
    .png" target="_blank"><img src="images/Процесс получения данных по командировкам
    .png"/></a>

    **Описание процесса**

    В случае, если планируется использовать только процесс "Получения данных по командировке" без их загрузки со стороны клиента. Т.е. если создание командировок находится на стороне TIME (Online Booking Tool)процесс получения деталей по командировкам выглядит следующим образом:

    1.  Сначала запрашивается список всех несинхронизированных командировок через IHUB (Intagration hub) (по 100 командировок в пакете) - с помощью вызова метода "GET businesstrips/synchronization" - Метод предназначен для получения пакета (GET-запрос) с набором несинхронизированных услуг в рамках командировки
    
    2.  Отдается ответ на сторону АК об их синхронизации, чтобы они были убраны из очереди на отдачу. Запрос направляется n-раз до момента «пустого ответа».
    
    3.  Далее через API AK (используя метод [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-), описанный выше) по этому списку отдаются все детали по командировкам.

    **Дополнительные возможности:**

    1. Получение ссылок на документы (ваучеры и маршрут-квитанции) для услуг со статус «Complete».  Метод: [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/documents](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/documents)

    2. В данных по командировке (с использованием метода: [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-)) передается не вся информация по услугам. Для получения полной информации по услуге, есть отдельный метод [GET /orders/{orderNumber}/services/{serviceNumber}](#get-/orders/-orderNumber-/services/-serviceNumber-)

    <br>

    # Процессы Авторизации

    <a href="bpm/Процесс авторизации_new.bpm">Процесс авторизации_new.bpm</a>

    **Процесс Авторизация факта поездки**

    <a href="images/Авторизация факта поездки.png" target="_blank"><img src="images/Авторизация факта поездки.png"/></a>

    **Процесс Авторизация набора услуг**

    <a href="images/Авторизация набора услуг.png" target="_blank"><img src="images/Авторизация набора услуг.png"/></a>

    **Процесс Авторизация доп услуги**

    <a href="images/Авторизация доп услуги.png" target="_blank"><img src="images/Авторизация доп услуги.png"/></a>

    **Описание процесса Авторизации**

    1.  Проверка необходимости авторизации факта командировки / набора услуг / дополнительной услуги
    2.  В случае необходимости авторизации, метод детализации по командировке возвращает токен авторизации.
    3.  Используя токен авторизации отправляется либо отказ, либо авторизация факта командировки / набора услуг / доп услуги.
    4.  В зависимости от результатов авторизации процесс оформления командировки либо завершается, либо переходит на новый этап.

    **Таблица статусов для факта поездки и набора услуг**

    | №  | Кейс                                   | Authorization Assertion | Authorization Status | Complete Trip Authorization Assertion | Complete Trip Authorization Status |
    |----|----------------------------------------|:-----------------------:|:--------------------:|:-------------------------------------:|:----------------------------------:|
    | 1  | Требуется авторизация факта поездки    | Required                | Pending              | NotSupported                          | NotSupported                       |
    | 2  | Авторизация факта поездки НЕ требуется | NotRequired             | NotSupported         | NotSupported                          | NotSupported                       |
    | 3  | Ожидает авторизации факта поездки      | Required                | InProgress           | NotSupported                          | NotSupported                       |
    | 4  | Авторизация факта поездки отозвана     | Required                | Recalled             | NotSupported                          | NotSupported                       |
    | 5  | Авторизация факта поездки отклонена    | Required                | NotAuthorized        | NotSupported                          | NotSupported                       |
    | 6  | Факт поездки авторизован               | Required                | Authorized           | NotSupported                          | NotSupported                       |
    | 7  | Требуется авторизация набора услуг     | Required                | Pending              | NotSupported                          | NotSupported                       |
    | 8  | Авторизация набора услуг НЕ требуется  | NotRequired             | NotSupported         | NotSupported                          | NotSupported                       |
    | 9  | Ожидает авторизации набора услуг       | Required                | Authorized           | Required                              | InProgress                         |
    | 10 | Авторизация набора услуг отозвана      | Required                | Authorized           | Required                              | Recalled                           |
    | 11 | Авторизация набора услуг отклонена     | Required                | Authorized           | Required                              | NotAuthorized                      |
    | 12 | Набор услуг авторизован                | Required                | Authorized           | Required                              | Authorized                         |

    **Таблица статусов для дополнительной услуги**

    | № | Кейс                                                                                                    | Authorization Assertion | Authorization Status |
    |---|---------------------------------------------------------------------------------------------------------|-------------------------|----------------------|
    | 1 | Требуется авторизация доп услуги (1)*                                                                   | true                    | NotSupported         |
    | 2 | *Требуется авторизация доп услуги (2) - доп. значения статусов, в случае Authorization Assertion = true | Required                | Pending              |
    | 3 | Авторизация доп услуги НЕ требуется                                                                     | false                   | NotSupported         |
    | 4 | Ожидает авторизации факта поездки                                                                       | Required                | InProgress           |

    **Методы API**

    | # | Описание                                                                                                                                        | Метод                                                                               |
    |---|-------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------|
    | 1 | Получение детализации по командировке                                                                                                           | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-)                            |
    | 2 | Проверка необходимости авторизации и получение списка авторизующих для командировки (используется только для stage = Fact или stage = Services) | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{stage}/authfx/state](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/authfx/state) |
    | 3 | Отправка запроса на авторизацию командировки (используется только для stage = Fact или stage = Services).                                       | [PUT /journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{stage}/authfx/state](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/authfx/state) |
    | 4 | Проверка статуса авторизации услуг и получения списка авторизирующих лиц.                                                                       | [GET /orders/{orderNumber}/services/{serviceNumber}/authfx/state](#get-/orders/-orderNumber-/services/-serviceNumber-/authfx/state)                     |
    | 5 | Отправка запроса на авторизацию услуги                                                                                                          | [PUT /orders/{orderNumber}/services/{serviceNumber}/authfx/state](#put-/orders/-orderNumber-/services/-serviceNumber-/authfx/state)                     |
    | 6 | Отправка результата авторизации                                                                                        | [POST /authfx/trip/batch/{batchToken}/complete](#post-/authfx/trip/batch/-batchToken-/complete)                                       |

    <br>

    # Поиск, добавление в корзину, бронирование и оформление услуг

    <a href="bpm/Процесс оформления услуг_new.bpm">Процесс оформления услуг_new.bpm</a>

    ## Общий процесс поиска, добавления в корзину, бронирования и оформления набора услуг / доп услуги в командировке

    <a href="images/Процесс оформления услуг_Общий процесс.png" target="_blank"><img src="images/Процесс оформления услуг_Общий процесс.png"/></a>

    **Комментарии к процессу:**

    >**ВАЖНО**:  метод проверки необходимости авторизации должен вызываться всегда

    ## Процесс поиска и добавления набора услуг / доп услуги в корзину

    <a href="images/Процесс оформления услуг_поиск и добавление в корзину.png" target="_blank"><img src="images/Процесс оформления услуг_поиск и добавление в корзину.png"/></a>

    ### Описание процесса

    >**ВАЖНО:** Перед тем как осуществлять поиск и добавление услуг в командировку, необходимо осуществить запрос проверки необходимости авторизации факта командировки
    >
    >**ВАЖНО**: данный метод должен вызываться всегда

    1.  Запрос на поиск вариантов (метод: "[PUT /search](#put-/search)") - возможно указать сразу все необходимые для командировки услуги
    2.  В случае, если в методе "[PUT /search](#put-/search)" был запрошен поиск нескольких услуг, необходимо получить их номера (номер опции) с помощью вызова метода "[GET /search/{requestNumber}](#get-/search/-requestNumber-)" для дальнейшего использования при вызове методов.
    3.  Проверка статуса поиска по определенной опции (услуге) перед тем как вызвать методы доступных фильтров и результатов поиска для определенной опции
    4.  Получение доступных фильтров
    5.  Получение результатов поиска по определенной опции, в том числе с применением фильтров, если таковые требовались
    6.  Выбор варианта
    7.  Получение деталей (правил тарифа, возврата и т.д.) по выбранному варианту с использованием данных из запроса поиска.
    8.  Добавление выбранного варианта в корзину.
    9.  Если требуется добавить в корзину еще услуги (**ВАЖНО:** возможно только при работе с набором услуг. В случае дополнения командировки доп услугой, в корзину возможно добавить только 1 услугу. Если командировку требуется дополнить несколько доп услуг, то это возможно сделать только после прохождения полного цикла оформления по каждой услуге отдельно, т.е. если требуется дополнить командировку 2-мя услугами, то сначала должна быть оформлена первая услуга, а потом только можно начать работать со второй), возвращаемся на шаг либо запроса на поиск вариантов, если изначально поиск проводился только для одной услуги, либо на шаг проверки статуса поиска по данной услуге, если поиск изначально велся для всех необходимы услуг в командировке.

    ## Процесс подготовки набора услуг / доп услуги в корзине к оформлению

    <a href="images/Процесс оформления услуг_процесс подготовки услуг к оформлению.png" target="_blank"><img src="images/Процесс оформления услуг_процесс подготовки услуг к оформлению.png"/></a>

    ### Описание процесса

    1.  Начало оформления услуг
    2.  Выбор документа
    3.  Выбор бонусных карт, если таковые имеются
    4.  Сохранение данных.
    5.  Получение списка доп данных с форматами и значениями и списка ризон-кодов для заполнения для набора услуг / доп услуги (методы разные в зависимости от работы с набором услуг или с доп услугой) - **ВАЖНО**: данный метод должен вызываться всегда даже, если на данном этапе не должны заполнятся никакие доп данные и ризон-коды
    6.  Если списки доп данных и ризон-кодов вернулись НЕ пустыми, выбор необходимых значений и их сохранение. В противном случае, данный шаг пропускается.
    7.  Если в наборе услуг есть услуга авиа, то вызов метод для бронирования данной услуги перед отправкой набора на авторизацию или оформление
    8.  Запрос проверки необходимости авторизации -  **ВАЖНО**: данный метод должен вызываться всегда

    ## Процесс оформления набора услуг / доп услуги
 
    <a href="images/Процесс оформления услуг_new_оформление услуг.png" target="_blank"><img src="images/Процесс оформления услуг_new_оформление услуг.png"/></a>

    ### Описание процесса

    В зависимости от типа услуг в наборе или доп услуги процесс оформления будет отличается.

    1.  Если есть услуга ЖД, после получения авторизация, если таковая требовалась, и наличия у услуги статусов, указанных в п. 2 или п.6 таблицы ["Комбинации статусов ЖД"](#overview--rail), переход к проверке наличия свободных мест и выбору места в вагоне - сохранение выбранных мест производится с помощью метода бронирования "[PUT /orders/{orderNumber}/services/{serviceNumber}/reserve](#put-/orders/-orderNumber-/services/-serviceNumber-/reserve)". **ВАЖНО:**  бронирования  **НЕ**  является оформлением услуги и для ЖД "срок жизни" брони от 15 до 30 мин. Следовательно, поле вызова метода бронирования мест, необходимо сразу же произвести оформление выбранных вариантов с помощью метода "[PUT /orders/{orderNumber}/services/{serviceNumber}/execute](#put-/orders/-orderNumber-/services/-serviceNumber-/execute)". До вызова метода необходимо проверить статусы услуги - они должны соответствовать п. 7 таблицы ["Комбинации статусов ЖД"](#overview--rail) Если свободных месте в выбранном вагоне на момент получения авторизация не окажется, то будет возвращена ошибка. В этом случае необходимо будет осуществить поиск и оформление услуги заново.
    2.  Если есть услуга Авиа, то в процессе получения авторизации у бронирования может истечь таймлимит (п. 12 - в таблице ["Комбинация статусов Авиа"](#overview--avia)). Следовательно, перед тем как отправить услугу на оформление, она должна иметь комбинацию статусов указанных в п. 4 или п.11 таблицы ["Комбинация статусов Авиа"](#overview--avia). В случае, если таймлимит истек, необходимо осуществить поиск и оформление услуги заново.
    3.  В случае отелей, после получения авторизации и наличия в услуге статусов, указанных в п. 2 и п. 6 таблицы ["Комбинации статусов отеля"](#overview--hotel) услуга может быть сразу отправлена на оформление.
    4.  После отправки услуг на оформление необходимо проверить статус услуг, запросив информацию по командировке - в случае получения "service_state": "Execution", услуга считается оформленной.

    **ВАЖНО:** Более подробно все статусы услуг и их комбинации, в которых они должны находится перед переходом к тому или иному процессу указаны ниже в [Таблицах комбинаций статусов услуг и доступных дейтвий с ними](#overview--statuses).

    ## Дополнительные возможности

    1.  Получение правил оказания услуги (используется номер услуги для получения данных) - описание тарифов, правил возврата и т.д. : [GET /orders/{orderNumber}/services/{serviceNumber}/regulations](#get-/orders/-orderNumber-/services/-serviceNumber-/regulations) - вызов метода возможен в любой момент без использования данных из запроса поиска.
    2.  Получение правил по выбранному варианту (используются данные из запроса поиска) - [GET /search/{requestNumber}/options/{optionNumber}/details/{key}/rules](#get-/search/-requestNumber-/options/-optionNumber-/details/-key-/rules) - метод возможно вызвать до того, как положить выбранный вариант в корзину.  
      
    ## Типы услуг, доступные для поиска и оформления через API

    -   Авиа
    -   Отели (оформления раннего заезда и позднего выезда через API - НЕТ)
    -   ЖД

    <a id="overview--statuses"></a>
    
    ## Таблицы комбинаций статусов услуг и доступных дейcтвий с ними

    <a id="overview--avia"></a>
    
    ### Комбинации статусов авиа

    | №  | ServiceState | AuthorizationStatus | AuthorizationAssertion | AvailableActions        | Статус услуги          | Описание состояния, в котором находится услуга, и возможных действий с ней                                                                                    |
    |----|--------------|---------------------|------------------------|-------------------------|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | 1  | Unknown      | NotSupported        | NotSupported           | Reservation             | Черновик               | Услуга находится в корзине и возможен переход к процессу подготовки услуги к оформлению - заполнению документов и бонусных карт для набора услуг / доп услуги |
    | 2  | Servicing    | NotSupported        | NotSupported           | --                      | Обрабатывается агентом | После отправки запроса на бронирование - Бронирование ушло к агенту                                                                                           |
    | 3  | Reservation  | NotSupported        | NotSupported           | Execution               | Забронировано          | Услуга забронирована и требует проверки на необходимость авторизации (запрос проверки необходимости авторизации - метод проверки вызывается всегда)           |
    | 4  | Reservation  | Authorized          | NotRequired            | Execution               | Забронировано          | Услуга забронирована и НЕ требует авторизации - возможен переход к оформлению услуги                                                                          |
    | 5  | Reservation  | Pending             | Required               | Authorization           | Требуется авторизация  | Услуга забронирована и требует авторизации - возможен переход к запросу авторизации                                                                           |
    | 6  | Unknown      | Pending             | Required               | Authorization           | Требуется авторизация  | Услуга забронирована и у бронирования истек таймлимит и требуется авторизации - возможен переход к запросу авторизации                                        |
    | 7  | Reservation  | InProgress          | Required               | --                      | Ожидает авторизации    | Услуга забронирована и отправлена на авторизацию                                                                                                              |
    | 8  | Unknown      | InProgress          | Required               | --                      | Ожидает авторизации    | Услуга забронирована и у бронирования истек таймлимит и отправлена на авторизацию                                                                             |
    | 9  | Reservation  | NotAuthorized       | Required               | --                      | Отказано в авторизации | Услуга забронирована, но в авторизации отказано                                                                                                               |
    | 10 | Unknown      | NotAuthorized       | Required               | --                      | Отказано в авторизации | Услуга забронирована и у бронирования истек таймлимит, но в авторизации отказано                                                                              |
    | 11 | Reservation  | Authorized          | Required               | Execution               | Авторизовано           | Услуга забронирована и авторизована - возможен переход к оформлению услуги                                                                                    |
    | 12 | Unknown      | Authorized          | Required               | Reservation             | Авторизовано           | Услуга забронирована и у бронирования истек таймлимит и услуга авторизована - требуется повторное бронирование или выбор новой опции                          |
    | 13 | Servicing    | Authorized          | NotRequired/Required   | --                      | Обрабатывается агентом | Услуга ушла на оформление агенту                                                                                                                              |
    | 14 | Execution    | Authorized          | NotRequired/Required   | Change, ContactOperator | Оформлено              | Услуга оформлена                                                                                                                                              |
    | 15 | Refunding    | Authorized          | NotRequired/Required   | --                      | Отменено               | Услуга отменена                                                                                                                                               |

    <a id="overview--hotel"></a>
    
    ### Комбинации статусов отеля

    | № | ServiceState | AuthorizationStatus | AuthorizationAssertion | AvailableActions | Статус услуги          | Описание состояния, в котором находится услуга, и возможных действий с ней                                                                                    |
    |---|--------------|---------------------|------------------------|------------------|------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | 1 | Unknown      | NotSupported        | NotSupported           | Execution        | Черновик               | Услуга находится в корзине и возможен переход к процессу подготовки услуги к оформлению - заполнению документов и бонусных карт для набора услуг / доп услуги |
    | 2 | Unknown      | Authorized          | NotRequired            | Execution        | Черновик               | Услуга НЕ требует авторизации (после проверки необходимости авторизации - метод проверки вызывается всегда) - возможен переход к процессу оформления услуги   |
    | 3 | Unknown      | Pending             | Required               | Authorization    | Требуется авторизация  | Услуга требует авторизации (после проверки необходимости авторизации - метод проверки вызывается всегда) - возможен переход к запросу авторизации             |
    | 4 | Unknown      | InProgress          | Required               | --               | Ожидает авторизации    | Услуга отправлена на авторизацию                                                                                                                              |
    | 5 | Unknown      | NotAuthorized       | Required               | --               | Отказано в авторизации | В авторизации отказано                                                                                                                                        |
    | 6 | Unknown      | Authorized          | Required               | Execution        | Авторизовано           | Услуга авторизована - возможен переход к процессу оформления услуги                                                                                           |
    | 7 | Servicing    | Authorized          | NotRequired/Required   | --               | Обрабатывается агентом | Услуга ушла на ручное оформление агенту                                                                                                                       |
    | 8 | Execution    | Authorized          | NotRequired/Required   | Change           | Оформлено              | Услуга оформлена                                                                                                                                              |
    | 9 | Refunding    | Authorized          | NotRequired/Required   | --               | Отменено               | Услуга отменена                                                                                                                                               |

    <a id="overview--rail"></a>
    
    ### Комбинации статусов ЖД

    | №  | ServiceState | AuthorizationStatus | AuthorizationAssertion | AvailableActions | Статус услуги          | Описание состояния, в котором находится услуга, и возможных действий с ней                                                                                                        |
    |----|--------------|---------------------|------------------------|------------------|------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    |  1 | Unknown      | NotSupported        | NotSupported           | Reservation      | Черновик               | Услуга находится в корзине и возможен переход к процессу подготовки услуги к оформлению - заполнению документов и бонусных карт для набора услуг / доп услуги                     |
    |  2 | Unknown      | Authorized          | NotRequired            | Reservation      | Черновик               | Услуга НЕ требует авторизации (после проверки необходимости авторизации - метод проверки вызывается всегда) - возможен переход к процессу выбора места и отправки на бронирование |
    |  3 | Unknown      | Pending             | Required               | Authorization    | Требуется авторизация  | Услуга требует авторизации - (после проверки необходимости авторизации - метод проверки вызывается всегда) - возможен переход к запросу авторизации                               |
    |  4 | Unknown      | InProgress          | Required               | --               | Ожидает авторизации    | Услуга отправлена на авторизацию                                                                                                                                                  |
    |  5 | Unknown      | NotAuthorized       | Required               | --               | Отказано в авторизации | В авторизации отказано                                                                                                                                                            |
    |  6 | Unknown      | Authorized          | Required               | Reservation      | Авторизовано           | Услуга авторизована. Требуется выбрать места (вызов метода проверки свободных мест) и отправить на бронирование                                                                   |
    |  7 | Reservation  | Authorized          | NotRequired/Required   | Execution        | Забронировано          | Услуга забронирована, возможен переход к оформлению услуги. # ВАЖНО:  "срок жизни" брони от 15 до 30 мин.                                                                         |
    |  8 | Servicing    | Authorized          | NotRequired/Required   | --               | Обрабатывается агентом | Услуга ушла на ручное оформление агенту                                                                                                                                           |
    |  9 | Execution    | Authorized          | NotRequired/Required   | Change           | Оформлено              | Услуга оформлена                                                                                                                                                                  |
    | 10 | Refunding    | Authorized          | NotRequired/Required   | --               | Отменено               | Услуга отменена                                                                                                                                                                   |

    ## Варианты ошибок

    1.  При попытке добавить повторно любую из вышеперечисленных услуг в текущую или новую командировку, будет выдана ошибка 500 - попытка создания дубля услуги на стадии оформления
    2.  При попытке повторно отправить услуга на оформление будет выдана ошибка - 500 - попытка повторного оформления

    ## Методы API

    | #  | Описание                                                                                            | Метод                                                                                                                                       |
    |----|-----------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------|
    | 1  | Запрос на поиск вариантов                                                                           | [PUT /search](#put-/search)                                                                                                                               |
    | 2  | Получение деталей запроса поиска, в том числе номеров опций для использования в дальнейших запросах | [GET /search/{requestNumber}](#get-/search/-requestNumber-)                                                                                                                |
    | 3  | Получение статуса поиска для определенной опции (услуги)                                            | [GET /search/{requestNumber}/{optionNumber}/status](#get-/search/-requestNumber-/-optionNumber-/status)                                                                                           |
    | 4  | Получение возможных вариантов фильтров                                                              | [GET /search/{requestNumber}/filterparameters](#get-/search/-requestNumber-/filterparameters)                                                                                                |
    | 5  | Получение списка вариантов для опции с учётом фильтрации                                            | [GET /search/{requestNumber}/options/{optionNumber}/results](#get-/search/-requestNumber-/options/-optionNumber-/results)                                                                                  |
    | 6  | Получение детальной информации по выбранному варианту                                               | [GET /search/{requestNumber}/options/{optionNumber}/details/{key}](#get-/search/-requestNumber-/options/-optionNumber-/details/-key-)                                                                            |
    | 7  | Добавление варианта в корзину                                                                       | [PUT /search/{requestNumber}/options/{optionNumber}/details/{key}/selectToTrip](#put-/search/-requestNumber-/options/-optionNumber-/details/-key-/selectToTrip)                                                               |
    | 8  | Выбор документа (паспорта)                                                                          | [GET /orders/{orderNumber}/services/{serviceNumber}/alloweddocuments](#get-/orders/-orderNumber-/services/-serviceNumber-/alloweddocuments)                                                                         |
    | 9  | Выбор бонусной карты                                                                                | [GET /profile/{profileId}](#get-/profile/-profileId-)                                                                                                                    |
    | 10 | Сохранение путешественника, документа и карты в услуге                                              | [PUT /orders/{orderNumber}/services/{serviceNumber}/travellers](#put-/orders/-orderNumber-/services/-serviceNumber-/travellers)                                                                               |
    | 11 | Бронирование услуги                                                                                 | [PUT /orders/{orderNumber}/services/{serviceNumber}/reserve](#put-/orders/-orderNumber-/services/-serviceNumber-/reserve)                                                                                  |
    | 12 | Проверка свободных мест в вагоне (для услуги ЖД)                                                    | [GET  /orders/{orderNumber}/services/{serviceNumber}/seats](#get-/orders/-orderNumber-/services/-serviceNumber-/seats)                                                                                   |
    | 13 | Оформление услуги                                                                                   | [PUT /orders/{orderNumber}/services/{serviceNumber}/execute](#put-/orders/-orderNumber-/services/-serviceNumber-/execute)                                                                                  |
    | 14 | Процесс авторизации                                                                                 | методы описаны отдельно в разделе "Процессы авторизации"                                                                                    |
    | 15 | Запрос информации по командировке для проверки статусов услуг авиа и отеля                          | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-)                     |
    | 16 | Запрос доступных для заполнения доп данных и ризон-кодов                                                         | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{stage}/customproperties](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/customProperties)|
    | 17 | Сохранение выбранного значения доп данного и ризон-кода                                                           | [POST /journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{stage}/customproperties](#post-/journeys/-journeyNumber-/trips/-businessTripNumber-/stage/-BusinessTripStage-/customproperties)  |

    **Методы (дополнительные возможности):**

    | #  | Описание                                                                                                                                                                                                        | Метод                                                                  |
    |----|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
    | 18 | Получение правил оказания услуги (используется номер услуги для получения данных) - описание тарифов, правил возврата и т.д. - вызов метода возможен в любой момент без использования данных из запроса поиска. | [GET /orders/{orderNumber}/services/{serviceNumber}/regulations](#get-/orders/-orderNumber-/services/-serviceNumber-/regulations)         |
    | 19 | Получение правил по выбранному варианту (используются данные из запроса поиска) - - метод возможно вызвать до того, как положить выбранный вариант в корзину.                                                   | [GET /search/{requestNumber}/options/{optionNumber}/details/{key}/rules](#get-/search/-requestNumber-/options/-optionNumber-/details/-key-/rules) |

    <br>

    # Изменения командировки

    ## Отмена командировки

    ### **Процесс отмены командировки:**

    <a href="bpm/Процесс отмены командировки.bpm">Процесс отмены командировки.bpm</a>

    <a href="images/Процесс отмены командировки.png" target="_blank"><img src="images/Процесс отмены командировки.png"/></a>

    **Описание процесса:**

    1.  Запрос возможности отмены командировки - параметр "business_trip_cancellation_available".
    2.  При получении business_trip_cancellation_available: true - запрос отмены командировки - передается массив услуг, по которым должна быть сделана отмена в рамках конкретной командировки с кодами причин (если таковые предусмотрены.)
    3.  После запроса отмены командировки командировка получает  **status:** **СancellationRequested**  (статус находится в ответе метода [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-) получения деталей по командировке ) ,  **cancellation_status:** **InProgress** (в ответе метода  [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation/status](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/cancellation/status))
    4.  Процесс обработки отмены услуг занимает время, поэтому чтобы убедится в полном завершении процесса, используется метод - [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation/status](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/cancellation/status), который в ответе возвращает текущее состояние командировки, после выполнения запроса отмены. - Вызывающий сервис с некой периодичностью вызывает метод, проверяя статус процесса отмены. Вызов метода завершается, после получения  **cancellation_status = Completed → **status:** **Сancelled****

    **Комментарии к процессу:**

    >**ВАЖНО:**  Используя данный процесс, клиент соглашается на все штрафы, которые могут возникнуть при аннуляции услуг при отмене командировки.
    >
    >**ВАЖНО**: при наличие ризон-кодов, возможно принимать только одно значение причины отмены.

    ### **Состояние командировки для возможности ее отмены:**

    1.  Если командировка НЕ находится в архиве и факт поездки авторизован (либо данная опция не предусмотрена)
    2.  В командировке есть оформленные услуги и нет услуг, ожидающих авторизации и в процессе оформления.
    3.  В командировке НЕТ услуг, оформленные на 2 пассажиров

    > Если в командировке в оформленных услугах выбрано "Запросить отмену или возврат", а в неоформленных - "Запросить удаление", это не является блокирующим фактором для отмены командировки. Нажатие кнопки "Отменить" отменяет всю командировку.

    >Отмененная командировка отображается в разделе "Архив" в Time.

    ### **Статусы командировки:**

    | Поле   | Описание                                                                                                                                                                                                                                                                                                                                                                                                                 |
    |--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | status | Статус командировки.<br>Возможные значения:<br>-- **Draft** - командировка создана, но необходимо заполнить доп.данные;<br>-- **Active** - заполнение доп.данных командировки завершено, командировка активна;<br>-- **Complete** -  командировка выполнена, поездка совершена;<br>-- **Closed** - командировка закрыта<br>-- **Archived** - командировка в арихве<br>-- **СancellationRequested** - Запрошена отмена<br>-- **Сancelled** - Отменена |

    ### **Статусы отмены командировки:**

    | Поле                | Описание                                                                           |
    |---------------------|------------------------------------------------------------------------------------|
    | cancellation_status | Статус отмены<br>Варианты значений:<br>-- **Completed**<br>-- **InProgress**<br>-- **Unknown** |

    ### **Mapping статусов отмены:**

    | cancellation_status                         | status                                                    |
    |---------------------------------------------|-----------------------------------------------------------|
    | -- Completed<br>-- InProgress<br>-- Unknown | -- Cancelled<br>-- CancellationRequested<br>-- NotDefined |

    ### **Методы API отмены командировки**

    | # | Описание                                                                                 | Метод                                                                           |
    |---|------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------|
    | 1 | Запрос возможности отмены командировки и необходимых для заполнения в услугах ReasonCode | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation/available](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/cancellation/available) |
    | 2 | Запрос отмены командировки                                                               | [PUT /journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/cancellation)           |
    | 3 | Получение статуса отмены командировки                                                    | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation/status](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/cancellation/status)    |

    ### **Альтернативный вариант отмены командировки:**

    1.  Отмена командировки в OBT (TIME)
    2.  Получения изменений путем запроса детализации по командировке - вызов метода: [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-)

    ## Изменение дат командировки

    ### **Процесс изменения дат командировки:**

    <a href="bpm/Изменение дат командировки.bpm">Изменение дат командировки.bpm</a>

    <a href="images/Изменение дат командировки_new.png" target="_blank"><img src="images/Изменение дат командировки_new.png"/></a>

    **Комментарии к процессу:**

    -   Внешняя авторизация изменения дат командировки НЕ предусмотрена. Авторизация возможна только через OBT (TIME). Следовательно при изменении дат командировки с использованием API, изменения должны быть предварительно согласованы на стороне клиента и настроек авторизация этого процесса быть НЕ должно.
    -   Изменение возможно только дат. Изменение городов назначения НЕ предусмотрено.
    -   Изменение дат доступно, если:    
        -   командировка НЕ находится на авторизации факта поездки или набора услуг;
        -   услуги командировки НЕ находятся на авторизации;
        -   командировка не завершена;

    ### **Возможные расширения функционала**

    Получение краткой информации по направлениям командировки с датами - вызов метода [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/changedatesinfo](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/changedatesinfo)

    ### **Методы API изменения дат командировки**

    | # | Описание                                                           | Метод                                                                    |
    |---|--------------------------------------------------------------------|--------------------------------------------------------------------------|
    | 1 | Получение краткой информации по направлениям командировки с датами | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}/changedatesinfo](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/changedatesinfo) |
    | 2 | Обновление дат по направлениям командировки.                       | [PUT /journeys/{journeyNumber}/trips/{businessTripNumber}/changedates](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/changedates)     |

    ### **Альтернативный вариант изменения дат командировки:**

    1.  Изменение дат командировки с авторизацией в OBT (TIME)
    2.  Получения изменений путем запроса детализации по командировке - вызов метода: [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-)

    ## Изменение услуги в командировке

    <a href="bpm/Процессы изменения услуги в командировке.bpm">Процессы изменения услуги в командировке.bpm</a>

    ### **Процесс изменения услуги в командировке (вариант 1):**

    <a href="images/Процесс изменения услуги в командировке_вариант 1_new.png" target="_blank"><img src="images/Процесс изменения услуги в командировке_вариант 1_new.png"/></a>

    **Описание:**

    1.  Изменение - это уведомление агента о намерении изменить услугу.
    2.  Запрос на изменение услуги отправляется с текстом сообщения (Ограничение символов - **512** символов)
    3.  Согласование изменений / варианты / доплата / штрафы ведется в OBT (TIME) с возможностью использования электронной почты, так как вся переписка в Тайме параллельно поступает в почту и ответ также можно направлять из почты, не заходя в Тайм.
    4.  После обработки услуги агентом **service_state (Статус обработки услуги)** устанавливается в одно из нижеперечисленных значений
    5.  Если после завершения обработки услуги агентом **service_state ≠ **Execution**** дополнительно может быть вызван метод для получения деталей по командировке для проверки добавления новой услуги к командировке в связи с отменой текущей, по которой были запрошены изменения, так как  ряд изменений  могут быть проведены только через отмену старой услуги и создания взамен нее новой.


    ### **Статусы обработки услуги:**

    | Поле                | Описание                                                                           |
    |---------------------|------------------------------------------------------------------------------------|
    | service_state * | Состояние услуги. <br>Возможные варианты:<br>-- **Unknown** –  черновик<br>-- **Reservation** –  забронировано<br>-- **Refunding** –  отменено<br>-- **Servicing** –  обслуживается<br>-- **Execution** –  оформлено<br>-- **Exchanged** –  обменено |

    ### **Методы API изменения услуги в командировке**

    | # | Описание                                                                         | Метод                                                    |
    |---|----------------------------------------------------------------------------------|----------------------------------------------------------|
    | 1 | Запрос на внесение изменений в услугу                                            | [PUT /orders/{orderNumber}/services/{serviceNumber}/alter](#put-/orders/-orderNumber-/services/-serviceNumber-/alter) |
    | 2 | Проверка статуса обработки услуги                                                | [GET /orders/{orderNumber}/services/{serviceNumber}](#get-/orders/-orderNumber-/services/-serviceNumber-)       |
    | 3 | Получение данных по командировке (описание метода приведено в отдельном разделе) | [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-) |

    ### **Процесс изменения услуги в командировке (вариант 2):**

    <a href="images/Процессы изменения услуги в командировке_вариант 2.png" target="_blank"><img src="images/Процессы изменения услуги в командировке_вариант 2.png"/></a>

    ### **Чат с агентом:**

    <a href="images/Процессы изменения услуги в командировке_чат с агентом.png" target="_blank"><img src="images/Процессы изменения услуги в командировке_чат с агентом.png"/></a>

    **Описание процесса чата с агентом:**

     1.  Пользователь добавил новое сообщение для командировки из API:
           - возможна отправка сообщений **только** следующим адресатам (типы сообщений) **@агенты Аэроклуба**
           - параметр read: false
    2. После прочтения сообщения агентом параметр read: true
    3. Агент добавил новое сообщение пользователю, параметр read: false
    4. Если нет постоянного ключа (токена) авторизации от клиента, вызов метода аутентификации на стороне клиента с входными параметрами пользователя Аэроклуб (логин, пароль)
    5. Уведомление клиента о наличии новых сообщений в командировке - на указанный клиентом URL будет отправлен Post запрос с указанным ниже описанием:
      
     **Описание полей запроса:**

     - Data

    | Field              | Desctiption        | Type |
    |--------------------|--------------------|------|
    | businessTripNumber | Номер командировки | int  |
    | journeyNumber      | Номер поездки      | int  |
    | postId             | Id сообщения       | int  |

     - Type

    | Enum Type | Value             | Desctiption                                           |
    |-----------|-------------------|-------------------------------------------------------|
    |     2     | TripPostPublished | Уведомления об оставленном комментарии в командировке |    

    **Тело запроса**

        {  
          "data": {  
            businessTripNumber": 15005,  
            "journeyNumber": 13411,  
            "postId": 861206  
          },  
          "type": "TripPostPublished"  
        }

    **Пример запроса:**

        Tue Dec 29 11:18:21 MSK 2020:INFO:Incoming POST request: /
        Authorization : OAuth "Токен авторизации"
        Accept : application/json, text/json, text/x-json, text/javascript, application/xml, text/xml, Application/Json
        Expect : 100-continue
        User-Agent : integration@aeroclub.ru
        Host : mow1aps7:8089
        Accept-Encoding : gzip, deflate
        Content-Length : 102
        Content-Type : application/json{"data":{"businessTripNumber":18547,"journeyNumber":16908,"postId":862731},"type":"TripPostPublished"}

    >**ВАЖНО:** При отправлении запроса на сторону клиента, Аэроклуб ожидает получить статус ответа 200/202. В случае получении иного статуса Ihub будет предпринимать до 5 попыток отправить запрос на сторону клиента с интервалом в секундах: 2 * retryCallNumber

    6. Получение клиентом новых сообщений по командировке. Метод [GET/journeys/{journeyNumber}/trips/{businessTripNumber}/posts]() возвращает всегда все прочитанные и непрочитанные сообщения в командировке: "read": false/true
    7. Клиент помечает полученные сообщения как прочитанные - вызов метода [PUT/journeys/{journeyNumber}/trips/{businessTripNumber}/posts/read]() - передается ID сообщения. Сообщение получает параметр read: true

    ### **Методы API для чата с агентом**

    | # | Описание                                     | Метод                                                              |
    |---|----------------------------------------------|--------------------------------------------------------------------|
    | 1 | Добавление пользователем нового сообщения    | [PUT/journeys/{journeyNumber}/trips/{businessTripNumber}/posts](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/posts)      |
    | 2 | Получение новых сообщений по командировке    | [GET/journeys/{journeyNumber}/trips/{businessTripNumber}/posts](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-/posts)      |
    | 3 | Пометка полученных сообщений как прочитанных | [PUT/journeys/{journeyNumber}/trips/{businessTripNumber}/posts/read](#put-/journeys/-journeyNumber-/trips/-businessTripNumber-/posts/read) |

    ### **Альтернативный вариант изменения услуг в командировке:**

    1.  Изменение услуги в OBT (TIME)
    2.  Получения изменений путем запроса детализации по командировке - вызов метода: [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-) - проверка **service_state**

    | Поле                | Описание                                                                           |
    |---------------------|------------------------------------------------------------------------------------|
    | service_state * | Состояние услуги. <br>Возможные варианты:<br>-- **Unknown** –  черновик<br>-- **Reservation** –  забронировано<br>-- **Refunding** –  отменено<br>-- **Servicing** –  обслуживается<br>-- **Execution** –  оформлено<br>-- **Exchanged** –  обменено |

    ## Отмена услуги в командировке

    <a href="bpm/Процесс отмены услуги в командировке.bpm">Процесс отмены услуги в командировке.bpm</a>

    ### **Процесс отмены услуги в командировке (вариант 1):**

    <a href="images/Процесс отмены услуги в командировке.png" target="_blank"><img src="images/Процесс отмены услуги в командировке.png"/></a>

    **Описание:**

    1.  Изменение - это уведомление агента о намерении изменить услугу.
    2.  Запрос на изменение услуги отправляется с текстом сообщения (Ограничение символов - **512** символов)
    3.  Согласование изменений / варианты / доплата / штрафы ведется в OBT (TIME) с возможностью использования электронной почты, так как вся переписка в Тайме параллельно поступает в почту и ответ также можно направлять из почты, не заходя в Тайм.
    4.  После обработки услуги агентом **service_state** услуги устанавливается в одно из нижеперечисленных значений
    5.  В зависимости от типа услуги и установленного статуса дополнительно может быть вызван метод для получения деталей по командировке для проверки добавления новой услуги к командировке в связи с отменой текущей, по которой были запрошены изменения, так как ряд изменений могут быть проведены только через отмену старой услуги и создания взамен нее новой.

    ### **Методы API изменения услуги в командировке**

    | # | Описание                                                                                         | Метод                                                    |
    |---|--------------------------------------------------------------------------------------------------|----------------------------------------------------------|
    | 1 | Запрос на отмену услуги в командировке                                                           | [PUT/orders/{orderNumber}/services/{serviceNumber}/cancel](#put-/orders/-orderNumber-/services/-serviceNumber-/cancel) |
    | 2 | Проверка статуса обработки услуги | [GET /orders/{orderNumber}/services/{serviceNumber}](#get-/orders/-orderNumber-/services/-serviceNumber-)       |

    ### **Процесс отмены услуги в командировке (вариант 2):**

    <a href="images/Процесс отмены услуги в командировке_вариант 2.png" target="_blank"><img src="images/Процесс отмены услуги в командировке_вариант 2.png"/></a>
    
    ### **Альтернативный вариант отмены услуги в командировке:**

    1.  Отмена услуги в OBT (TIME)
    2.  Получения изменений путем запроса детализации по командировке - вызов метода: [GET /journeys/{journeyNumber}/trips/{businessTripNumber}](#get-/journeys/-journeyNumber-/trips/-businessTripNumber-) - проверка **service_state = **Refunding****
#  termsOfService: http://example.com/terms/
  contact:
    name: API Support
    url: http://docs.aeroclub.ru/api
    email: teamsigma@aeroclub.ru
  version: v1
paths:
  /connect/token:
    post:
      tags:
        - Авторизация API
      summary: Авторизация с помощью Passport
      description: Авторизация с помощью Passport
      servers:
        - url: https://dev-passport.aeroclub.ru
          description: тестовый cервер для авторизации
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: "#/components/schemas/AuthRequest"
        required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthTokenResponse"
      security:
      - passport:
        - test
  "/authfx/trip/batch/{batchToken}/complete":
    post:
      tags:
        - Авторизация командировки
      summary: Авторизация командировки
      description: |
        Авторизация командировки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Внешняя авторизация". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: CompleteAuthTrip
      parameters:
        - name: batchToken
          in: path
          description: Токен авторизации
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CompleteBusinessTripAuthorizationRequest"
        required: true
      responses:
        "200":
          description: Успешно
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/companies/{companyId}/profiles/{profileId}/allowedpaymentrequisites":
    get:
      tags:
        - Создание командировки
      summary: Получение доступных форм оплаты
      description: |
        Получение доступных форм оплаты для компании и профиля  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetAllowedPaymentRequisites
      parameters:
        - name: profileId
          in: path
          description: Идентификатор профиля в справочнике Аэроклуба
          required: true
          schema:
            type: integer
        - name: companyId
          in: path
          description: Идентификатор компании в справочнике Аэроклуба
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращается список доступных форм оплаты
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfPaymentRequisites"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/companies/travellerProfiles/{profileId}/servicing":
    get:
      tags:
        - Создание командировки
      summary: Получение списка доступных компаний
      description: |
        Получение списка компаний, доступных для обслуживания текущим пользователем  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetServicingCompaniesForProfile
      parameters:
        - name: profileId
          in: path
          description: Профиль путешественника в системе Аэроклуба
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращается список компаний
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ServicingCompanyInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}":
    get:
      tags:
        - Интеграция данных по командировке и услугам
      summary: Получение информации по командировке
      description: |
        Получение командировки по номеру  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Интеграция данных по командировкам и услугам". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetBusinessTrip
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращается командировка
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessTripOfIServiceInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation":
    put:
      tags:
        - Отмена командировки
      summary: Запроса отмены командировки  
      description: |
        Запроса отмены командировки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Отмена командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: CancelJourney
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CancelTripRequest"
        required: true
      responses:
        "200":
          description:
            Возвращается результат отмены командировки и список ошибок в случае
            неудачи
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BaseResponse"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation/available":
    get:
      tags:
        - Отмена командировки
      summary: Проверка возможности отмены командировки
      description: |
        Проверка возможности отмены командировки и получение ReasonCodes для отмены услуг  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Отмена командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetTripCancellationAvailable
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      responses:
        "200":
          description:
            Возвращается флаг возможности отмены командировки и список
            необходимых Reason-кодов
          content:
            application/json:
              schema:
                $ref:
                  "#/components/schemas/DataResponseOfJourneyAvailableCancellationInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/cancellation/status":
    get:
      tags:
        - Отмена командировки
      summary: Получение статуса отмены командировки
      description: |
        Получение статуса отмены командировки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Отмена командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetCancellationStatus
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      responses:
        "200":
          description:
            Возвращается флаг возможности отмены командировки и список
            необходимых Reason-кодов
          content:
            application/json:
              schema:
                $ref:
                  "#/components/schemas/DataResponseOfBusinesTripCancellationResult"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/changedates":
    put:
      tags:
        - Изменение командировки
      summary: Обновление информации по направлениям командировки
      description: |
        Обновление информации по направлениям командировки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Изменение командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: ChangeDates
      parameters:
        - name: journeyNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessTripChangeDatesRequest"
        required: true
      responses:
        "200":
          description:
            Возвращается результат обновления информации по направлениям
            командировки
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessTripChangeDatesResult"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/changedatesinfo":
    get:
      tags:
        - Изменение командировки
      summary: Получение краткой информации по направлениям командировки
      description: |
        Получение краткой информации по направлениям командировки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Изменение командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetChangeDatesInfo
      parameters:
        - name: journeyNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращается краткая информация по направлениям командировки
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BusinessTripChangeDatesInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{BusinessTripStage}/analytics/{customPropertyId}/values/{customPropertyValueId}/dependent":
    put:
      tags:
        - Создание командировки
      summary: Получение зависимых доп. данных 
      description: |
        Получение зависимых дополнительных данных  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetBusinessTripTravellersAnalyticsChilds
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: BusinessTripStage
          in: path
          description: Этап оформления командировки
          required: true
          schema:
            type: string
            enum:
              - Unknown
              - Fact
              - Services
              - AdditionalService
        - name: customPropertyId
          in: path
          description: Идентификатор допданного
          required: true
          schema:
            type: integer
        - name: customPropertyValueId
          in: path
          description: Идентификатор значения допданного.
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ServiceNumberRequest"
        required: true
      responses:
        "200":
          description: Возвращаются зависимые дополнительных данных
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfCustomPropertyDependent"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{BusinessTripStage}/authfx/state":
    get:
      tags:
        - Авторизация командировки
      summary: Проверка необходимости авторизации и получение списка авторизующих
      description: |
        Проверка необходимости авторизации и получение списка авторизующих для командировки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Внешняя авторизация". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetTripAuthFxState
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: BusinessTripStage
          in: path
          description: Этап авторизации командировки
          required: true
          schema:
            $ref: "#/components/schemas/BusinessTripStage"
      responses:
        "200":
          description: Признаки необходимости авторизации и список авторизующих
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfAuthFxState"
        "426":
          description: Версия протокола не поддерживается
    put:
      tags:
        - Авторизация командировки
      summary: Отправка командировки и услуг в командировке на авторизацию
      description: |
        Метод отправки командировки и услуг в командировке на авторизацию  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Внешняя авторизация". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: ChangeTripAuthFxState
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: BusinessTripStage
          in: path
          description: Этап авторизации
          required: true
          schema:
            $ref: "#/components/schemas/BusinessTripStage"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendTripToAuthorizationRequest"
        required: true
      responses:
        "200":
          description: Запрос выполнен успешно
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BaseResponse"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/stage/{BusinessTripStage}/customProperties":
    get:
      tags:
        - Создание командировки
      summary: Получение доп. данных для заполнения
      description: |
        Получение возможных для заполнения доп. данных по командировке  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetBusinessTripAnalytics
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: BusinessTripStage
          in: path
          description: Этап оформления командировки
          required: true
          schema:
            type: string
            enum:
              - Unknown
              - Fact
              - Services
              - AdditionalService
        - name: orderNumber
          in: query
          description: Номер заказа. Обязательная информация для stage=Services или stage=AdditionalService
          schema:
            type: integer
        - name: serviceNumber
          in: query
          description: Номер услуги. Обязательная информация для stage=Services или stage=AdditionalService
          schema:
            type: integer
      responses:
        "200":
          description: Доп. данные по командировке
          headers:
            X-UpdateToken:
              description: Токен версии выборки
              schema:
                type: string
                format: string
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfBusinessTripsAnalytics"
        "426":
          description: Версия протокола не поддерживается
    post:
      tags:
        - Создание командировки
      summary: Сохранение доп. данных по командировке
      description: |
        Сохранение доп. данных по командировке  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: SaveBusinessTripAnalytics
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: BusinessTripStage
          in: path
          description: Этап оформления командировки
          required: true
          schema:
            type: string
            enum:
              - Unknown
              - Fact
              - Services
              - AdditionalService
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BusinessTripsAnalytics"
        required: true
      responses:
        "200":
          description: Доп. данные по командировке
          headers:
            X-UpdateToken:
              description: Токен версии выборки
              schema:
                type: string
                format: string
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BaseResponse"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/documents":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      description: Получение проездных документов по командировке
      operationId: GetDocumentsForBusinessTrip
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Возвращается список проездных документов
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Ticket'
        '426':
          description: Версия протокола не поддерживается
          content: {}
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/posts":
    get:
      tags:
        - Интеграция чата
      summary: Получение комментариев чата командировки
      description: |
        Получение комментариев в чате с агентом в командировке  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Интеграция чата". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetBusinessTripPosts
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
        - name: last
          in: query
          description: Количество последних коментариев
          schema:
            type: integer
            default: 10
        - name: versionToken
          in: query
          description: Токен версии последней полученной выборки
          schema:
            type: string
        - name: lastMessageID
          in: query
          description: Идентификатор последнего полученного комментария
          schema:
            type: integer
      responses:
        '200':
          description: Список комментариев к заказу
          headers:
            X-UpdateToken:
              description: Токен версии выборки
              schema:
                type: string
                format: string
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BusinessTripAuthPost'
        '426':
          description: Версия протокола не поддерживается
          content: {}
    put:
      tags:
        - Интеграция чата
      summary: Добавление комментария в чат командировки
      description: |
        Добавление комментария к командировке  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Интеграция чата". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: AddBusinessTripPost
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                upfile:
                  type: string
                  description: Прикрепляемый файл
                  format: binary
      responses:
        '200':
          description: Возвращается добавленный комментарий
          headers:
            X-UpdateToken:
              description: Токен версии добавленного комментария
              schema:
                type: string
                format: string
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Post'
        '426':
          description: Версия протокола не поддерживается
          content: {}
      x-codegen-request-body-name: body
  "/journeys/{journeyNumber}/trips/{businessTripNumber}/posts/read":
    put:
      tags:
        - Интеграция чата
      summary: Пометить комментарии чата прочитанными
      description: |
        Пометить комментарии прочитанными  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Интеграция чата". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: ReadBusinessTripPosts
      parameters:
        - name: journeyNumber
          in: path
          description: Номер поездки
          required: true
          schema:
            type: integer
        - name: businessTripNumber
          in: path
          description: Номер командировки
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IdsRequest'
        required: true
      responses:
        '200':
          description: Запрос выполнен успешно
          content: {}
        '426':
          description: Версия протокола не поддерживается
          content: {}
      x-codegen-request-body-name: body
  /journeys:
    put:
      tags:
        - Создание командировки
      summary: Создание поездки
      description: |
        Создание поездки  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: CreateJourney
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateJourneyRequest"
        required: true
      responses:
        "200":
          description: Возвращается номер созданной поездки и командировок
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfJourneyNumbers"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  /journeysV2:
    put:
      tags:
        - Создание командировки
      summary: Создание поездки с несколькими пунктами
      description: |
        Создание поездки версии 2. Поддержка создания с неколькими пунктами назанчения  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: CreateJourneyV2
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/JourneyCreateJourneyRequestV2"
        required: true
      responses:
        "200":
          description: Возвращается номер созданной поездки и командировок
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfJourneyNumbers"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/oauth/{companyId}/fingerprint/{profileId}":
    put:
      tags:
        - Авторизация API
      security:
        - basicAuth: []
      summary: Авторизация клиента
      description: |
        Авторизация клиента
      operationId: Authenticate
      parameters:
        - name: companyId
          in: path
          description: Идентификатор компании в справочнике Аэроклуба
          required: true
          schema:
            type: integer
        - name: profileId
          in: path
          description: Идентификатор профиля в справочнике Аэроклуба
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  description: Примечание к запросу
                  type: string
      responses:
        "201":
          description: Возвращаются данные для bearer-авторизации устройства
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthorizationToken"
        "426":
          description: Версия протокола не поддерживается
    delete:
      tags:
        - Авторизация API
      description: Удаление токена клиента
      operationId: DeleteAuthentication
      parameters:
        - name: companyId
          in: path
          description: Идентификатор компании в справочнике Аэроклуба
          required: true
          schema:
            type: integer
        - name: profileId
          in: path
          description: Идентификатор профиля в справочнике Аэроклуба
          required: true
          schema:
            type: integer
      responses:
        "204":
          description: Операция выполнена
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}":
    get:
      tags:
        - Интеграция данных по командировке и услугам
      summary: Получение информации по услуге
      description: |
        Получение услуги по номеру заказа и номеру услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Интеграция данных по командировкам и услугам". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetService
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращается услуга
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IServiceDetailWithPosts"
        "404":
          description: Услуга не найдена или нет прав на её просмотр
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/alloweddocuments":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение доступных документов для услуги
      description: |
        Получение доступных документов для оформления услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetAllowedDocuments
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AllowedDocumentsRequest"
        required: true
      responses:
        "200":
          description: Возвращается список доступных документов для оформления услуги
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TravellerDocument"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/alter":
    put:
      tags:
        - Изменение командировки
      summary: Запрос на внесение изменений в услугу
      description: |
        Запрос на внесение изменений в услугу  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Изменение командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: AlterService
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MessageRequest"
        required: true
      responses:
        "200":
          description: Запрос принят в обработку
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/authfx/state":
    get:
      tags:
        - Авторизация командировки
      summary: Получение информации по необходимости авторизации услуги
      description: |
        Получение информации по необходимости авторизации услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Внешняя авторизация". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetAuthorizingData
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Данные по авторизации услуги
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfAuthorizationData"
        "426":
          description: Версия протокола не поддерживается
    put:
      tags:
        - Авторизация командировки
      summary: Отправка услуги на авторизацию
      description: |
          Отправка услуги на авторизацию  
          <span style="color: #FF3B30">**Данный метод входит в подписку "Внешняя авторизация". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: SendServiceToAuthorization
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SendServiceToAuthorizationRequest"
        required: true
      responses:
        "200":
          description: Успешность выполнения возвращается в поле is_success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BaseResponse"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/cancel":
    put:
      tags:
        - Изменение командировки
      summary: Запрос на отмену или возврат услуги
      description: |
        Запрос на отмену или возврат услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Изменение командировки". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: PerformCancelationService
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Запрос принят в обработку
        "404":
          description: Услуга не найдена или нет прав на её просмотр
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/execute":
    put:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Запрос на офромление услуги
      description: |
        Запрос на офромление услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: PerformExecutionService
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Запрос принят в обработку
        "404":
          description: Услуга не найдена или нет прав на её просмотр
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/regulations":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение правил оказания услуги
      description: |
        Получение правил оказания услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetServiceRegulations
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращаются правила оказания услуги
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Regulation"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/reserve":
    put:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Запрос на бронирование услуги
      description: |
        Запрос на бронирование услуги  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: PerformReservationService
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReservationParametersRequest"
        required: true
      responses:
        "200":
          description: Запрос принят в обработку
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BaseResponse"
        "404":
          description: Услуга не найдена или нет прав на её просмотр
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/seats":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение информации о свободных местах
      description: |
        Получение актуальной информации о свободных местах в вагоне (только ЖД)  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetSeatsInfo
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      responses:
        "200":
          description:
            Возвращается актуальная информация о свободных местах в выбранном
            вагоне
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfRailVariantDetail"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/orders/{orderNumber}/services/{serviceNumber}/travellers":
    put:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Добавление путешественников в услугу
      description: |
        Добавление путешественников в услугу  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: AddTravellers
      parameters:
        - name: orderNumber
          in: path
          description: Номер заказа
          required: true
          schema:
            type: integer
        - name: serviceNumber
          in: path
          description: Номер услуги
          required: true
          schema:
            type: integer
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: "#/components/schemas/AddTravellersRequest"
        required: true
      responses:
        "200":
          description: Результат выполнения операции возвращается в поле is_success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ServiceDuplicateInfo"
        "404":
          description: Услуга не найдена или нет прав на её просмотр
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/profile/{profileId}":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение профайла по идентификатору
      description: |
        Получение информации о профайле по идентификатору  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetProfileById
      parameters:
        - name: profileId
          in: path
          description: Идентификатор профайла
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Профиль пользователя
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Profile"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  /profile/update:
    post:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Обновление информации профайла
      description: |
        Обновление информации профайла  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: UpdateProfile
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateProfileModel"
        description: Параметры для обновлнеия
        required: true
      responses:
        "200":
          description: Успешно
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  /references:
    get:
      tags:
        - Создание командировки
      summary: Поиск локаций
      description: |
        Поиск локаций (autocomplete)  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetReferences
      parameters:
        - name: query
          in: query
          description: Поисковая строка
          required: true
          schema:
            type: string
        - name: type
          in: query
          description: Тип искомых объектов
          required: true
          schema:
            $ref: "#/components/schemas/LookupItemType"
      responses:
        "200":
          description: Список найденных локаций
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/LookupItems"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  /references/profiles:
    get:
      tags:
        - Создание командировки
      summary: Поиск профилей
      description: |
        Поиск профилей (autocomplete)  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Работа с командировкой". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: SearchProfiles
      parameters:
        - name: query
          in: query
          description: Поисковая строка
          schema:
            type: string
      responses:
        "200":
          description: Список найденных профилей
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ProfileLookupItem"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  /search:
    put:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Создание запроса на поиск вариантов
      description: |
        Создание запроса на поиск вариантов  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: CreateSearchRequest
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateSearchRequest"
        required: true
      responses:
        "201":
          description: В поле data возвращается номер созданного запроса
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfInt32"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение запроса поиска по номеру
      description: |
        Получение запроса поиска по номеру  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetRequest
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возвращается объект запроса
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfSearchRequest"
        "404":
          description: Запрос не существует или принадлежит другому пользователю.
        "426":
          description: Версия протокола не поддерживается
    put:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Обновление результатов поиска
      description: |
        Обновление результатов поиска  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: UpdateSearchResults
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
      responses:
        "200":
          description:
            В поле is_success возвращается результат отправки запроса на
            обновление резальтатов поиска
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BaseResponse"
        "404":
          description: Запрос не существует или принадлежит другому пользователю.
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/{optionNumber}/status":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение статуса поискового запроса
      description: |
        Получение статуса поискового запроса  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetOptionRequestStatus
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: optionNumber
          in: path
          description: Номер опции
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Статус запроса
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfOptionRequestStatusInfo"
        "404":
          description: Запрос не существует или принадлежит другому пользователю
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/filterparameters":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение возможных значений фильтров
      description: |
        Получение возможных значений фильтров  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetFilterValues
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Возможные значения фильтров
          content:
            application/json:
              schema:
                type: array
                description: Варианты фильтров
                items:
                  $ref: "#/components/schemas/FilterParameter"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/options/{optionNumber}/details/{key}":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение информации по опции
      description: |
        Получение детальной информации по варианту  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetDetailsForOption
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: optionNumber
          in: path
          description: Номер опции
          required: true
          schema:
            type: integer
        - name: key
          in: path
          description: Идентификатор варианта
          required: true
          schema:
            type: string
        - name: detailIndex
          in: query
          description: Индекс для детализации одного из тарифов в списке вариантов отелей. Передается значение из tariffs.index
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Детальная информация по варианту
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfVariantDetail"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/options/{optionNumber}/details/{key}/rules":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение правил опции
      description: |
        Получение правил по опции  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetRulesForOption
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: optionNumber
          in: path
          description: Номер опции
          required: true
          schema:
            type: integer
        - name: key
          in: path
          description: Идентификатор варианта
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Правила оказания услуг по варианту
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Regulation"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/options/{optionNumber}/details/{key}/selectToTrip":
    put:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Добавление опции в командировку
      description: |
        Выбор опции для командировки (создание заказа с услугой)  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: CreateOrderWithOptionsForBusinessTrip
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: optionNumber
          in: path
          description: Номер варианта
          required: true
          schema:
            type: integer
        - name: key
          in: path
          description: Идентификатор варианта
          required: true
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/CreateOrderForBusinessTripRequest"
      responses:
        "200":
          description: "В поле data возвращается массив следующих данных: journey_number: номер поездки; business_trips_number: номер командировки; order_number: номер созданного заказа; service_number: номер созданной услуги;"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfServicesForBusinessTrip"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/options/{optionNumber}/results":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение списка опций по фильтрам
      description: |
        Постраничное получение списка вариантов в опции с учётом фильтрации  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetResultsForOption
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: optionNumber
          in: path
          description: Номер опции
          required: true
          schema:
            type: integer
        - name: times
          in: query
          description: Диапазон времени
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: orderBy
          in: query
          description: Сортировка по параметру. Optimal - оптимально, Price - дешевле, Duration - продолжительность, ByTime - быстрее
          schema:
            type: string
            enum:
              - Optimal
              - Price
              - Duration
              - ByTime
        - name: isDescending
          in: query
          description: Сортировка в обратном порядке
          schema:
            type: boolean
            default: false
        - name: departureAtThereTimes
          in: query
          description: Время отправления туда
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: arrivalAtThereTimes
          in: query
          description: Время прибытия туда
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureAtBackTimes
          in: query
          description: Время прибытия обратно
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: arrivalAtBackTimes
          in: query
          description: Время прибытия обратно
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureFromThere
          in: query
          description: "ID пункта отправления туда. Варианты заполнения параметра, по типу пункта назначения: cXXX - город, aXXX - аэропорт, sXXX - жд станция"
          schema:
            type: string
        - name: arrivalToThere
          in: query
          description: "ID пункта прибытия туда. Варианты заполнения параметра, по типу пункта назначения: cXXX - город, aXXX - аэропорт, sXXX - жд станция"
          schema:
            type: string
        - name: departureFromBack
          in: query
          description: "ID пункта отправления обратно. Варианты заполнения параметра, по типу пункта назначения: cXXX - город, aXXX - аэропорт, sXXX - жд станция"
          schema:
            type: string
        - name: arrivalToBack
          in: query
          description: "ID пункта прибытия обратно. Варианты заполнения параметра, по типу пункта назначения: cXXX - город, aXXX - аэропорт, sXXX - жд станция"
          schema:
            type: string
        - name: IsTravelPolicyCompliant
          in: query
          description: Признак соответствия Travel policy
          schema:
            type: boolean
        - name: IsCorporateTariff
          in: query
          description: Признак соответствия Corporate tariff
          schema:
            type: boolean
        - name: aviaFilter_airCompanies
          in: query
          description: Список авиакомпаний через запятую
          schema:
            type: string
        - name: aviaFilter_classes
          in: query
          description: Список классов через запятую
          schema:
            type: string
        - name: aviaFilter_transfer
          in: query
          description: Пересадка
          schema:
            type: string
            enum:
              - Direct
              - One
              - TwoAndMore
        - name: aviaFilter_baggage
          in: query
          description: С багажом
          schema:
            type: boolean
            default: true
        - name: aviaFilter_rules
          in: query
          description: Возвраты
          schema:
            type: string
            enum:
              - Changeable
              - Refundable
        - name: aviaSort_isGroupedByFareFamily
          in: query
          description: Групировка при сортировке резултатов по FareFamily
          schema:
            type: boolean
            default: false
        - name: railFilter_carriageTypes
          in: query
          description: Типы вагона
          schema:
            type: string
            enum:
              - Lux
              - Vip
              - Coupe
              - Reserved
              - Seat
              - Common
              - Any
        - name: railFilter_trainName
          in: query
          description: Название поезда
          schema:
            type: string
        - name: railFilter_trainCategories
          in: query
          description: Тип поезда
          schema:
            type: string
            enum:
              - Fast
              - HighSpeed
        - name: railFilter_electronicRegistration
          in: query
          description: Признак электронной регистрации
          schema:
            type: boolean
            default: true
        - name: railFilter_carriageOwners
          in: query
          description: Владельцы вагонов
          schema:
            type: string
        - name: railFilter_branded
          in: query
          description: Признак брендированности поезда
          schema:
            type: boolean
        - name: hotelFilter_stars
          in: query
          description: Звездность отеля
          schema:
            type: string
            example: 3,4
        - name: hotelFilter_priceFrom
          in: query
          description: Стоимость от
          schema:
            type: number
            example: 3000
        - name: hotelFilter_priceTo
          in: query
          description: Стоимость до
          schema:
            type: number
            example: 15000
        - name: hotelFilter_hotelTypes
          in: query
          description: Тип отеля
          schema:
            type: string
        - name: hotelFilter_paymentPlaces
          in: query
          description: Оплата
          schema:
            type: string
            enum:
              - Checkin
              - Agency
        - name: hotelFilter_confirmationTypes
          in: query
          description: Подтверждение
          schema:
            type: string
            enum:
              - InstantConfirmation
              - OnRequest
        - name: hotelFilter_isRecommended
          in: query
          description: Признак рекомендованного отеля
          schema:
            type: boolean
        - name: pageNumber
          in: query
          description: Номер страницы
          schema:
            type: integer
            default: 0
        - name: maxCount
          in: query
          description: Количество элементов на странице
          schema:
            type: integer
            default: 15
      responses:
        "200":
          description: Список найденных вариантов
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PagedResponseOfVariantInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/options/{optionNumber}/results/count":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получения количества опций по фильтрам
      description: |
        Количество вариантов, соответствующих условиям фильтра  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetResultsCount
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: optionNumber
          in: path
          description: Номер опции
          required: true
          schema:
            type: integer
        - name: times
          in: query
          description: Диапазон времени
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureAtThereTimes
          in: query
          description: Время отправления туда
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: arrivalAtThereTimes
          in: query
          description: Время прибытия туда
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureAtBackTimes
          in: query
          description: Время прибытия обратно
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: arrivalAtBackTimes
          in: query
          description: Время прибытия обратно
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureFromThere
          in: query
          description: Id пункта отправления туда
          schema:
            type: integer
        - name: arrivalToThere
          in: query
          description: Id пункта прибытия туда
          schema:
            type: integer
        - name: departureFromBack
          in: query
          description: Id пункта отправления обратно
          schema:
            type: integer
        - name: arrivalToBack
          in: query
          description: Id пункта прибытия обратно
          schema:
            type: integer
        - name: aviaFilter_airCompanies
          in: query
          description: Авиакомпания
          schema:
            type: string
        - name: aviaFilter_classes
          in: query
          description: Класс
          schema:
            type: string
        - name: aviaFilter_transfer
          in: query
          description: Пересадка
          schema:
            type: string
            enum:
              - Direct
              - One
              - TwoAndMore
        - name: aviaFilter_baggage
          in: query
          description: С багажом
          schema:
            type: boolean
            default: true
        - name: aviaFilter_rules
          in: query
          description: Возвраты
          schema:
            type: string
            enum:
              - Changeable
              - Refundable
        - name: aviaSort_isGroupedByFareFamily
          in: query
          description: Групировка при сортировке резултатов по FareFamily
          schema:
            type: boolean
            default: false
        - name: railFilter_carriageTypes
          in: query
          description: Типы вагона
          schema:
            type: string
            enum:
              - Lux
              - Vip
              - Coupe
              - Reserved
              - Seat
              - Common
              - Any
        - name: railFilter_trainName
          in: query
          description: Название поезда
          schema:
            type: string
        - name: railFilter_trainCategories
          in: query
          description: Тип поезда
          schema:
            type: string
            enum:
              - Fast
              - HighSpeed
        - name: railFilter_electronicRegistration
          in: query
          description: Признак электронной регистрации
          schema:
            type: boolean
            default: true
        - name: railFilter_carriageOwners
          in: query
          description: Владельцы вагонов
          schema:
            type: string
        - name: railFilter_branded
          in: query
          description: Признак брендированности поезда
          schema:
            type: boolean
        - name: hotelFilter_stars
          in: query
          description: Звездность отеля
          schema:
            type: string
            default: 3,4
        - name: hotelFilter_priceFrom
          in: query
          description: Стоимость от
          schema:
            type: number
            example: 3000
        - name: hotelFilter_priceTo
          in: query
          description: Стоимость до
          schema:
            type: number
            example: 15000
        - name: hotelFilter_hotelTypes
          in: query
          description: Тип отеля
          schema:
            type: string
        - name: hotelFilter_paymentPlaces
          in: query
          description: Оплата
          schema:
            type: string
            enum:
              - Checkin
              - Agency
        - name: hotelFilter_confirmationTypes
          in: query
          description: Подтверждение
          schema:
            type: string
            enum:
              - InstantConfirmation
              - OnRequest
        - name: hotelFilter_isRecommended
          in: query
          description: Признак рекомендованного отеля
          schema:
            type: boolean
      responses:
        "200":
          description: Количество найденных вариантов
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DataResponseOfVariantCountInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  "/search/{requestNumber}/results":
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение списка вариантов по фильтрам
      description: |
        Постраничное получение списка вариантов с учётом фильтрации  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetResults
      parameters:
        - name: requestNumber
          in: path
          description: Номер запроса
          required: true
          schema:
            type: integer
        - name: times
          in: query
          description: Диапазон времени
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: orderBy
          in: query
          description: Сортировка по параметру
          schema:
            type: string
            enum:
              - Optimal
              - Price
              - Duration
              - ByTime
        - name: isDescending
          in: query
          description: Сортировка в обратном порядке
          schema:
            type: boolean
            default: false
        - name: departureAtThereTimes
          in: query
          description: Время отправления туда
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: arrivalAtThereTimes
          in: query
          description: Время прибытия туда
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureAtBackTimes
          in: query
          description: Время прибытия обратно
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: arrivalAtBackTimes
          in: query
          description: Время прибытия обратно
          schema:
            type: string
            enum:
              - Night
              - Morning
              - Afternoon
              - Evening
        - name: departureFromThere
          in: query
          description: Id пункта отправления туда
          schema:
            type: integer
        - name: arrivalToThere
          in: query
          description: Id пункта прибытия туда
          schema:
            type: integer
        - name: departureFromBack
          in: query
          description: Id пункта отправления обратно
          schema:
            type: integer
        - name: arrivalToBack
          in: query
          description: Id пункта прибытия обратно
          schema:
            type: integer
        - name: IsTravelPolicyCompliant
          in: query
          description: Соответствует Travel policy
          schema:
            type: boolean
        - name: IsCorporateTariff
          in: query
          description: Соответствует Corporate tariff
          schema:
            type: boolean
        - name: aviaFilter_airCompanies
          in: query
          description: Авиакомпания
          schema:
            type: string
        - name: aviaFilter_classes
          in: query
          description: Класс
          schema:
            type: string
        - name: aviaFilter_transfer
          in: query
          description: Пересадка
          schema:
            type: string
            enum:
              - Direct
              - One
              - TwoAndMore
        - name: aviaFilter_baggage
          in: query
          description: С багажом
          schema:
            type: boolean
            default: true
        - name: aviaFilter_rules
          in: query
          description: Возвраты
          schema:
            type: string
            enum:
              - Changeable
              - Refundable
        - name: aviaSort_isGroupedByFareFamily
          in: query
          description: Групировка при сортировке резултатов по FareFamily
          schema:
            type: boolean
            default: false
        - name: railFilter_carriageTypes
          in: query
          description: Типы вагона
          schema:
            type: string
            enum:
              - Lux
              - Vip
              - Coupe
              - Reserved
              - Seat
              - Common
              - Any
        - name: railFilter_trainName
          in: query
          description: Название поезда
          schema:
            type: string
        - name: railFilter_trainCategories
          in: query
          description: Тип поезда
          schema:
            type: string
            enum:
              - Fast
              - HighSpeed
        - name: railFilter_electronicRegistration
          in: query
          description: Признак электронной регистрации
          schema:
            type: boolean
            default: true
        - name: railFilter_carriageOwners
          in: query
          description: Владельцы вагонов
          schema:
            type: string
        - name: railFilter_branded
          in: query
          description: Признак брендированности поезда
          schema:
            type: boolean
        - name: hotelFilter_stars
          in: query
          description: Звездность отеля
          schema:
            type: string
            default: 3,4
        - name: hotelFilter_priceFrom
          in: query
          description: Стоимость от
          schema:
            type: number
            example: 3000
        - name: hotelFilter_priceTo
          in: query
          description: Стоимость до
          schema:
            type: number
            example: 15000
        - name: hotelFilter_hotelTypes
          in: query
          description: Тип отеля
          schema:
            type: string
        - name: hotelFilter_paymentPlaces
          in: query
          description: Оплата
          schema:
            type: string
            enum:
              - Checkin
              - Agency
        - name: hotelFilter_confirmationTypes
          in: query
          description: Подтверждение
          schema:
            type: string
            enum:
              - InstantConfirmation
              - OnRequest
        - name: hotelFilter_isRecommended
          in: query
          description: Признак рекомендованного отеля
          schema:
            type: boolean
        - name: pageNumber
          in: query
          description: Номер страницы
          schema:
            type: integer
            default: 0
        - name: maxCount
          in: query
          description: Количество элементов на странице
          schema:
            type: integer
            default: 15
      responses:
        "200":
          description: Список найденных вариантов
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PagedResponseOfVariantInfo"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
  /search/requests:
    get:
      tags:
        - Поиск и оформление услуг в системе клиента
      summary: Получение списка запросов поиска
      description: |
        Постраничный поиск созданных запросов поиска  
        <span style="color: #FF3B30">**Данный метод входит в подписку "Поиск и оформление услуг в системе клиента". Описание доступно по [ссылке](#overview--policy)**</span>
      operationId: GetRequests
      parameters:
        - name: requestType
          in: query
          description: Тип запроса
          schema:
            type: string
            enum:
              - Avia
              - Rail
              - Hotel
        - name: dateFrom
          in: query
          description: Начало периода командировки в формате 2020-10-24T00:00:16.000Z
          schema:
            type: string
            format: datetime
        - name: dateTo
          in: query
          description: Конец периода командировки в формате 2021-02-24T00:00:16.000Z
          schema:
            type: string
            format: datetime
        - name: cityId
          in: query
          description: Локация
          schema:
            type: integer
        - name: pageNumber
          in: query
          description: Номер страницы
          schema:
            type: integer
            default: 0
        - name: maxCount
          in: query
          description: Количество элементов на странице
          schema:
            type: integer
            default: 15
      responses:
        "200":
          description: Список найденных запросов
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PagedResponseOfSearchRequest"
        "426":
          description: Версия протокола не поддерживается
    parameters: []
security:
  - apiKey: []
tags:
  - name: Авторизация API
    description: |
      
  - name: Интеграция данных по командировке и услугам
    description: |

  - name: Создание командировки
    description: |
      
  - name: Поиск и оформление услуг в системе клиента
    description: | 
      
  - name: Авторизация командировки
    description: |
      
  - name: Изменение командировки
    description: |
      
  - name: Отмена командировки
    description: |
      
  - name: Интеграция чата
    description: |
      
  - name: 2. Создание командировки
    description: Описание процесса создания командировки
  - name: 3. Авторизация командировки и услуг
    description: Описание процесса авторизации факта поездки командировки, набора услуг и дополнительной услуги
  - name: 4. Изменение и отмена командировки
    description: Описание процессов изменения и отмены командировки и услуг
  - name: 5. Поиск вариантов и создание услуг
    description: Поиск, добавление в командировку и оформление услуг
  - name: 6. Оформление услуг
    description: Бронирование и оформление услуг
  - name: About
    description: Информация об Api
  - name: Account
    description: Работа с аккаунтами пользователя
  - name: Authentication
    description: Аутентификация
  - name: AuthFx
    description: Авторизация услуг
  - name: Companies
    description: Информация по компаниям
  - name: Integration
    description: Интеграция
  - name: Journeys
    description: Поездки
  - name: Notifications
    description: Информация по уведомлениям
  - name: Orders
    description: Мои заказы
  - name: Profile
    description: Информация о профайле
  - name: References
    description: Справочники
  - name: Request
    description: Работа с поисковыми запросами
  - name: Search
    description: Запросы для поиска
  - name: Services
    description: Моя поездка
  - name: Support
    description: Запросы к техподдержке
servers:
  - url: https://beta-api.aeroclub.ru
    description: тестовый сервер Aeroclub API
components:
  requestBodies:
    IdsRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/IdsRequest"
      required: true
    UpdatePushNotificationsArgs:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/UpdatePushNotificationsArgs"
      description: Уведомления для пометки прочитанными
      required: true
    CreateOrderForBusinessTripRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CreateOrderForBusinessTripRequest"
      required: true
    CompleteServiceAuthorizationRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/CompleteServiceAuthorizationRequest"
      required: true
    MessageRequest:
      content:
        multipart/form-data:
          schema:
            type: object
            properties:
              upfile:
                description: Прикрепляемое вложение
                type: string
                format: binary
      required: true
    PerformExecutionRequest:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/PerformExecutionRequest"
      required: true
  securitySchemes:
    apiKey:
      type: apiKey
      name: Authorization
      in: header
    basicAuth:
      type: http
      scheme: basic
    passport:
      type: oauth2
      flows:
        clientCredentials:
          tokenUrl: https://dev-passport.aeroclub.ru/connect/token
        authorizationCode:
          authorizationUrl: https://dev-passport.aeroclub.ru/connect/authorize
          tokenUrl: https://dev-passport.aeroclub.ru/connect/token
          scopes:
            test: Request Body
  schemas:
    Account:
      properties:
        assistant:
          type: boolean
        has_profile:
          type: boolean
        mode:
          $ref: "#/components/schemas/Mode"
        permissions:
          $ref: "#/components/schemas/AccountPermissions"
        travel_coordinator_roles:
          $ref: "#/components/schemas/TravelCoordinatorRoles"
        user_name:
          type: string
      required:
        - assistant
        - has_profile
        - mode
      type: object
    AccountPermissions:
      properties:
        modules:
          $ref: "#/components/schemas/ModulePermissions"
      type: object
    AddDocumentRequest:
      properties:
        citizenship_country_id:
          type: integer
        city_of_issue_id:
          type: integer
        destination_country_id:
          type: integer
        expires_on:
          type: string
        first_name:
          type: string
        issued_on:
          type: string
        last_name:
          type: string
        master_document_id:
          type: integer
        number:
          type: string
        place_of_birth:
          type: string
        series:
          type: string
        type:
          $ref: "#/components/schemas/DocumentType"
      required:
        - type
      type: object
    AdditionalInfo:
      properties:
        name_en:
          type: string
          description: Наименование дополнительного данного на английском
        name_ru:
          type: string
          description: Наименование дополнительного данного на русском
        value_en:
          type: string
          description: Установленное значение дополнительного данного на английском
        value_ru:
          type: string
          description: Установленное значение дополнительного данного на русском
      type: object
      description: Дополнительные данные
    AddProfileRequest:
      properties:
        bonus_cards:
          type: array
          items:
            $ref: "#/components/schemas/BonusCard"
        company_id:
          type: integer
        date_of_birth:
          type: string
        email:
          type: string
        first_name:
          $ref: "#/components/schemas/ModelLocalizedString"
        last_name:
          $ref: "#/components/schemas/ModelLocalizedString"
        middle_name:
          $ref: "#/components/schemas/ModelLocalizedString"
        phone_number:
          $ref: "#/components/schemas/PhoneNumberContact"
        sex:
          $ref: "#/components/schemas/Sex"
        title:
          $ref: "#/components/schemas/Title"
      required:
        - company_id
        - sex
        - title
      type: object
    Address:
      description: Адрес
      properties:
        coordinates:
          $ref: "#/components/schemas/GeoData"
        name:
          description: Наименование
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    AddTravellerDocumentRequest:
      properties:
        bonus_card_id:
          type: integer
        document_id:
          type: integer
      required:
        - document_id
      type: object
    AddTravellersRequest:
      properties:
        bonus_card_id:
          type: integer
          description: Идентификатор выбранной бонусной карты
        document_id:
          type: integer
          description: Идентификатор выбранного документа
        profile_id:
          type: integer
          description: Идентификатор профиля
      required:
        - document_id
        - profile_id
      type: object
    AllowedDocumentsRequest:
      properties:
        profile_id:
          type: integer
          description: ID профайла
      required:
        - profile_id
      type: object
    Analytics:
      description: Информация о соответствии услуги тревел политике компании
      properties:
        is_corporate_tariff:
          type: boolean
          description: Признак корпоративного тарифа
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответствия тревел-политике
        travel_policy_violation_reason:
          type: string
          description: Причина несоответствия тревел-политике
        travel_policy_violations:
          type: array
          description: Список причин несоответствия тревел-политике
          items:
            type: string
      required:
        - is_corporate_tariff
      type: object
    ApiInfoResponse:
      properties:
        description:
          type: string
        protocol_version:
          type: string
      type: object
    Attachment:
      description: Вложения
      properties:
        content_type:
          type: string
          description: Тип файла
        length:
          type: integer
          description: Размер файла в байтах
        name:
          type: string
          description: Название файла
        url:
          type: string
          description: Ссылка на файл
      required:
        - length
      type: object
    AuthFxState:
      description: Информация по необходимости авторизации и список авторизующих
      properties:
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        authorizers:
          type: array
          items:
            $ref: "#/components/schemas/ProfileInfo"
      required:
        - authorization_assertion
        - authorization_status
      type: object
    AuthorizationData:
      description: Информация по необходимости авторизации
      properties:
        authorization_assertion:
          description: Признак необходимости авторизации
          type: boolean
        auth_persons:
          type: array
          items:
            $ref: "#/components/schemas/ProfileInfo"
        auto_execution_allowed:
          description: Признак доступности автоматического оформления услуги
          type: boolean
      required:
        - authorization_assertion
        - auto_execution_allowed
      type: object
    AuthorizationListPagedResponse:
      properties:
        business_trips:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripInfoServices"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        items_count:
          type: integer
        items_per_page:
          type: integer
        page_number:
          type: integer
        services:
          type: array
          items:
            $ref: "#/components/schemas/IServiceDetail"
      required:
        - is_success
        - items_count
        - items_per_page
        - page_number
      type: object
    AuthorizationToken:
      properties:
        created_at:
          type: string
          description: Дата и время создания токена
        fingerprint:
          type: string
          description: Идентификатор профиля в справочнике Аэроклуба
        id:
          type: integer
          description: Внутренний идентификатор токена
        note:
          type: string
          description: Примечание из тела запроса
        token:
          type: string
          description: Токен авторизации
        updated_at:
          type: string
          description: Дата и время обновления токена
      required:
        - created_at
        - id
        - updated_at
        - token
      type: object
    AuthorizationTokenRequestDocs:
      properties:
        note:
          type: string
      type: object
    AuthRequest:
      properties:
        username:
          description: Логин пользователя
          type: string
        password:
          description: Пароль пользователя
          type: string
        grant_type:
          description: Тип разрешения на авторизацию
          type: string
          example: password
        client_id:
          description: Идентификатор клиента
          type: string
        refresh_token:
          description: Токен для обновления токена доступа
          type: string
        client_secret:
          description: Секретный ключ клиента. Передается, если настроена авторизация по ключу
          type: string
      required:
        - username
        - password
        - grant_type
        - client_id
      type: object
    AuthTokenResponse:
      properties:
        id_token:
          description: Идентификационный токен
          type: string
        access_token:
          description: Токен доступа
          type: string
        expires_in:
          description: Количество минут до истечения токена
          type: string
        token_type:
          description: Тип токена
          type: string
        refresh_token:
          description: Токен для обновления токена доступа
          type: string
      required:
        - access_token
        - expires_in
        - token_type
      type: object
    BankAccount:
      description: Банковские реквизиты
      properties:
        address:
          type: string
          description: Адрес
        bank_name:
          type: string
          description: Название банка
        bic:
          type: string
          description: БИК банка
        city_name:
          type: string
          description: Город
        company_id:
          type: integer
          description: Идентификатор компании
        correspondent_account:
          type: string
          description: Корр. счет
        id:
          type: integer
          description: Идентификатор записи
        inn:
          type: string
          description: ИНН банка
        kpp:
          type: string
          description: КПП банка
        name:
          type: string
          description: Валюта оплаты
        settlement_account:
          type: string
          description: Расчетный счет компании в банке
      required:
        - company_id
        - id
      type: object
    BaseResponse:
      properties:
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          description: Признак успешного выполнения запроса
          type: boolean
      required:
        - is_success
      type: object
    BaseResponseExtensions:
      properties:
        message:
          type: string
          description: Сообщение
    BonusCard:
      properties:
        bonus_card_code:
          type: string
          description: Код карты
        bonus_card_issuer:
          description: Издатель карты
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          type: integer
          description: Идентификатор карты
        kind_type:
          $ref: "#/components/schemas/NullableOfBonusCardType"
        number:
          type: string
          description: Номер карты
      required:
        - id
      type: object
      description: Бонусные карты профайла
    BudgetExpenses:
      description: Дополнительные расходы
      properties:
        amount:
          type: number
          description: Сумма дополнительных расходов
        name:
          description: Наименование дополнительного расхода
          items:
            $ref: "#/components/schemas/LocalizedString"
      required:
        - amount
      type: object
    BusinessTripCustomProperties:
      properties:
        business_trip_number:
          type: integer
          description: Номер командировки
        company_id:
          type: integer
          description: ID компании
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomProperty"
        journey_number:
          type: integer
          description: Номер поездки
        traveller:
          $ref: "#/components/schemas/TravellerInfo"
      type: object
      description: Дополнительные данные командировки
    BusinessTripDestination:
      description: Пункты назначения командировки
      properties:
        arrival_on:
          type: string
          description: Дата и время прибытия в формате YYYY-MM-DDThh:mm:ss
        city:
          description: Город
          items:
            $ref: "#/components/schemas/Location"
        leave_on:
          type: string
          description: Дата и время отправления в формате YYYY-MM-DDThh:mm:ss
        ordinal:
          type: integer
          description: Порядковый номер
      required:
        - arrival_on
        - leave_on
        - ordinal
      type: object
    BusinessTripInfo:
      properties:
        active_service_count:
          type: integer
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        budget_total:
          type: number
        business_trip_destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripDestination"
        company:
          $ref: "#/components/schemas/Company"
        complete_trip_authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        complete_trip_authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        count:
          $ref: "#/components/schemas/ServicesCountInfo"
        created_at:
          type: string
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        ends_on:
          type: string
        from_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        has_unread_posts:
          type: boolean
        inactive_service_count:
          type: integer
        journey_number:
          type: integer
        number:
          type: integer
        service_count:
          type: integer
        starts_on:
          type: string
        status:
          $ref: "#/components/schemas/BusinessTripStatus"
        to_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        traveller:
          $ref: "#/components/schemas/ProfileInfo"
      required:
        - active_service_count
        - authorization_assertion
        - authorization_status
        - budget_total
        - complete_trip_authorization_assertion
        - complete_trip_authorization_status
        - created_at
        - ends_on
        - has_unread_posts
        - inactive_service_count
        - journey_number
        - number
        - service_count
        - starts_on
        - status
      type: object
    BusinessTripInfoCompatible:
      properties:
        active_service_count:
          type: integer
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        budget_total:
          type: number
        business_trip_destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripDestination"
        company:
          $ref: "#/components/schemas/Company"
        compatible:
          type: boolean
        complete_trip_authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        complete_trip_authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        count:
          $ref: "#/components/schemas/ServicesCountInfo"
        created_at:
          type: string
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        ends_on:
          type: string
        from_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        has_unread_posts:
          type: boolean
        inactive_service_count:
          type: integer
        journey_number:
          type: integer
        number:
          type: integer
        service_count:
          type: integer
        starts_on:
          type: string
        status:
          $ref: "#/components/schemas/BusinessTripStatus"
        to_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        traveller:
          $ref: "#/components/schemas/ProfileInfo"
      required:
        - active_service_count
        - authorization_assertion
        - authorization_status
        - budget_total
        - compatible
        - complete_trip_authorization_assertion
        - complete_trip_authorization_status
        - created_at
        - ends_on
        - has_unread_posts
        - inactive_service_count
        - journey_number
        - number
        - service_count
        - starts_on
        - status
      type: object
    BusinessTripInfoServices:
      properties:
        active_service_count:
          type: integer
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        authorization_token:
          type: string
        budget_total:
          type: number
        business_trip_destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripDestination"
        company:
          $ref: "#/components/schemas/Company"
        complete_trip_authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        complete_trip_authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        count:
          $ref: "#/components/schemas/ServicesCountInfo"
        created_at:
          type: string
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        ends_on:
          type: string
        from_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        has_unread_posts:
          type: boolean
        inactive_service_count:
          type: integer
        journey_number:
          type: integer
        number:
          type: integer
        service_count:
          type: integer
        services:
          type: array
          items:
            $ref: "#/components/schemas/IServiceInfo"
        starts_on:
          type: string
        status:
          $ref: "#/components/schemas/BusinessTripStatus"
        to_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        traveller:
          $ref: "#/components/schemas/ProfileInfo"
      required:
        - active_service_count
        - authorization_assertion
        - authorization_status
        - budget_total
        - complete_trip_authorization_assertion
        - complete_trip_authorization_status
        - created_at
        - ends_on
        - has_unread_posts
        - inactive_service_count
        - journey_number
        - number
        - service_count
        - starts_on
        - status
      type: object
    BusinessTripOfIServiceInfo:
      type: object
      description: "Командировка: детализация"
      properties:
        authorization_token:
          type: string
          description:
            Токен авторизации факта поездки, или набора услуг или доп. услуги
            командировки
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        budget_expenses:
          type: array
          items:
            $ref: "#/components/schemas/BudgetExpenses"
        budget_total:
          type: number
          description:
            "Общий бюджет командировки. Поле выводится, если к командировке
            добавлены услуги. При расчете бюджета учитываются: услуги в
            командировке, дополнительные расходы в командировке. Предупреждение:
            Если в командировке присутствуют услуги в статусе 'Черновик' -
            Draft, то в бюджете командировки будут учтены только те черновики
            услуг, которые содержат путешественников 'Travellers'"
        business_trip_destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripDestination"
        company:
          $ref: "#/components/schemas/Company"
        complete_trip_authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        complete_trip_authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        count:
          $ref: "#/components/schemas/ServicesCountInfo"
        created_at:
          type: string
          description: Дата и время создания командировки в формате YYYY-MM-DDThh:mm:ss
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomPropertyValueOnly"
        ends_on:
          type: string
          description: Дата и время окончания командировки в формате YYYY-MM-DDThh:mm:ss
        from_city:
          description: Город отправления
          items:
            $ref: "#/components/schemas/Location"
        has_documents:
          type: boolean
          description: Признак наличия документов
        has_unread_posts:
          type: boolean
          description: Признак наличия непрочитанных сообщений
        journey_number:
          type: integer
          description: Номер поездки
        number:
          type: integer
          description: Номер командировки
        payment_policy:
          $ref: "#/components/schemas/PaymentPolicy"
        services:
          type: array
          items:
            $ref: "#/components/schemas/Services"
        starts_on:
          type: string
          description: Дата и время начала командировки в формате YYYY-MM-DDThh:mm:ss
        status:
          $ref: "#/components/schemas/BusinessTripStatus"
        time_url:
          type: string
          description: Ссылка на командировку в Time
        to_city:
          description: Город назначения
          items:
            $ref: "#/components/schemas/Location"
        total_budget_expenses:
          type: number
          description: Общая сумма дополнительных расходов
        traveller:
          $ref: "#/components/schemas/ProfileInfo"
      required:
        - authorization_assertion
        - authorization_status
        - budget_total
        - complete_trip_authorization_assertion
        - complete_trip_authorization_status
        - created_at
        - ends_on
        - has_documents
        - has_unread_posts
        - journey_number
        - number
        - starts_on
        - status
        - total_budget_expenses
    BusinessTripsAnalytics:
      properties:
        business_trip_custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripCustomProperties"
        order_number:
          type: integer
          description: Номер заказа
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/ReasonCodesByTraveller"
        service_number:
          type: integer
          description: Номер услуги
      type: object
      description: Дополнительные данные
    BusinessTripServiceReasonCodes:
      properties:
        order_number:
          type: integer
          description: Номер заказа
        service_number:
          type: integer
          description: Номер услуги
        travellers:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripServiceTravellerReasonCodes"
      required:
        - order_number
        - service_number
      type: object
      description: Услуги
    BusinessTripServiceTravellerReasonCodes:
      properties:
        external_profile_id:
          type: string
          description: Внешний идентификатор профиля или табельный номер путешественника
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/ReasonCode"
        traveller_id:
          type: integer
          description: Идентификатор путешественника
      required:
        - traveller_id
      type: object
      description: Информация по путешественнику и кодам причин для отмены услуги
    BusinessTripWithAuthData:
      properties:
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        authorization_token:
          type: string
        budget_expenses:
          type: array
          items:
            $ref: "#/components/schemas/BudgetExpenses"
        budget_total:
          type: number
        business_trip_destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripDestination"
        comments:
          type: array
          items:
            $ref: "#/components/schemas/Post"
        company:
          $ref: "#/components/schemas/Company"
        complete_trip_authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        complete_trip_authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        count:
          $ref: "#/components/schemas/ServicesCountInfo"
        created_at:
          type: string
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomPropertyValueOnly"
        ends_on:
          type: string
        from_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        has_documents:
          type: boolean
        has_unread_posts:
          type: boolean
        journey_number:
          type: integer
        number:
          type: integer
        payment_policy:
          $ref: "#/components/schemas/PaymentPolicy"
        services:
          type: array
          items:
            $ref: "#/components/schemas/IServiceDetail"
        starts_on:
          type: string
        status:
          $ref: "#/components/schemas/BusinessTripStatus"
        time_url:
          type: string
        to_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        total_budget_expenses:
          type: number
        traveller:
          $ref: "#/components/schemas/ProfileInfo"
      required:
        - authorization_assertion
        - authorization_status
        - budget_total
        - complete_trip_authorization_assertion
        - complete_trip_authorization_status
        - created_at
        - ends_on
        - has_documents
        - has_unread_posts
        - journey_number
        - number
        - starts_on
        - status
        - total_budget_expenses
      type: object
    CancelTripRequest:
      properties:
        services:
          type: array
          items:
            $ref: "#/components/schemas/ServiceTravellerWithReasonCodes"
      type: object
    CancelTripRequestV2:
      properties:
        services:
          type: array
          items:
            $ref: "#/components/schemas/ServiceTravellerWithReasonCodesV2"
      type: object
    CarriageDetail:
      properties:
        index:
          type: integer
          description: Индекс, используется для детализации варианта при добавлении в заказ или командировку
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответствия тревел-политике
        travel_policy_violation_reason:
          type: string
          description: Причина несоответствия тревел-политике
        carriage_type:
          $ref: "#/components/schemas/CarriageType"
        carriage_owner:
          type: string
          description: Перевозчик
        carriage_num:
          type: string
          description: Номер вагона
        places:
          type: array
          items:
            $ref: "#/components/schemas/PlaceInfo"
        is_electronic_registration_allowed:
          type: boolean
          description: Признак возможности электронной регистрации
        carriage_class_options:
          type: array
          description: Доступные услуги, которые входят в стоимость билета
          items:
            $ref: "#/components/schemas/CarriageClassOption"
        services_description:
          type: array
          description: Комментарии к вагону
          items:
            $ref: "#/components/schemas/CodeDescription"
        class:
          description: Класс вагона
          items:
            $ref: "#/components/schemas/CodeDescription"
        places_summary:
          $ref: "#/components/schemas/PlacesSummary"
        max_price_for_class:
          type: number
          description: Минимальная стоимость в данном классе
        min_price_for_class:
          type: number
          description: Максимальная стоимость в данном классе
        is_two_floor:
          type: boolean
          description: Признак двухэтажного поезда
        schema:
          type: string
      required:
        - carriage_type
        - index
        - is_two_floor
        - max_price_for_class
        - min_price_for_class
      type: object
    CodeDescription:
      properties:
        code:
          type: string
          description: Код
        name:
          description: Наименование
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    CommentRequest:
      properties:
        comment:
          type: string
      type: object
    Company:
      description: Компания
      properties:
        company_name:
          description: Название компании
          items:
            $ref: "#/components/schemas/LocalizedString"
        holding_name:
          description: Название холдинга
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          type: integer
          description: ID компании
      required:
        - id
      type: object
    CompanyLookup:
      properties:
        id:
          description: Идентификатор компании
          type: integer
        name:
          description: Название компании
          items:
            $ref: "#/components/schemas/LocalizedString"
      required:
        - id
      type: object
    CompleteBusinessTripAuthorizationRequest:
      properties:
        comment:
          description: Комментарий
          type: string
        is_authorized:
          description: Признак результата авторизации
          type: boolean
        profile_id:
          description: Идентификатор профиля авторизуемого
          type: integer
      required:
        - is_authorized
        - profile_id
      type: object
    CompleteServiceAuthorizationRequest:
      properties:
        comment:
          type: string
        traveller_requests:
          type: array
          items:
            $ref: "#/components/schemas/TravellerAuthorizationRequest"
      type: object
    Contacts:
      properties:
        email_addresses:
          type: array
          items:
            $ref: "#/components/schemas/EmailAddress"
        phone_numbers:
          type: array
          items:
            $ref: "#/components/schemas/PhoneNumberContact"
      type: object
      description: Контакты профайла
    CountedPushNotifications:
      properties:
        business_trips:
          type: integer
        not_set:
          type: integer
        orders:
          type: integer
        services_authorization:
          type: integer
        total:
          type: integer
        trip_plan:
          type: integer
        variants:
          type: integer
      required:
        - business_trips
        - not_set
        - orders
        - services_authorization
        - total
        - trip_plan
        - variants
      type: object
    CreateJourneyRequest:
      properties:
        ends_on:
          type: string
          description: Дата и время окончания командировки в формате YYYY-MM-DD
        starts_on:
          type: string
          description: Дата и время начала командировки в формате YYYY-MM-DD
        to_city_id:
          type: integer
          description: Идентификатор города назначения командировки
        travellers:
          type: array
          items:
            $ref: "#/components/schemas/CreateTripRequest"
      required:
        - ends_on
        - starts_on
        - to_city_id
      type: object
    CreateJourneyRequestV2:
      properties:
        create_trip_requests:
          type: array
          items:
            $ref: "#/components/schemas/CreateTripRequestV2"
        creator_external_company_id:
          type: string
        creator_external_profile_id:
          type: string
      type: object
    CreateOrderForBusinessTripRequest:
      properties:
        journey_number:
          type: integer
          description: Номер поездки. Указывается, если нужно добавить вариант в существующую поездку
        business_trip_numbers:
          type: array
          description: Номера командировок. Указываются, если нужно добавить вариант в существующие командировки
          items:
            type: integer
        detail_index:
          type: integer
          description: Идентификатор деталей варианта. Например, номер вагона
      required:
        - journey_number
      type: object
    CreateOrderRequest:
      properties:
        detail_index:
          type: integer
        order_number:
          type: integer
      type: object
    CreateSearchRequest:
      properties:
        arrival_city_id:
          type: integer
          description: ID города прибытия
        company_id:
          type: integer
          description: ID компании от имени которой делается запрос
        departure_city_id:
          type: integer
          description: ID города отправления
        departure_on:
          type: string
          description: Дата поездки в формате YYYY-MM-DD. Для всех режимов поиска услуг
        options:
          type: array
          items:
            $ref: "#/components/schemas/OptionRequest"
        profile_id:
          type: integer
          description: ID профиля пользователя, для которого выполняется поиск вариантов. Обязательно, если не заполнен profile_level_id
        profile_level_id:
          type: integer
          description: Идентификатор грейда пользователя, для которого выполняется поиск вариантов. Обязательно, если не заполнен profile_id
        requested_by_profile_id:
          type: integer
          description: Идентификатор пользователя, который отправил запрос. Можно не передавать, достаточно bearer токена
        round_trip_departure_on:
          type: string
          description: Дата поездки обратно в формате YYYY-MM-DD. Для всех режимов поиска услуг
      required:
        - requested_by_profile_id
      type: object
    CreateTripRequest:
      description: Путешественники
      properties:
        bank_account_id:
          type: integer
          description: Идентификатор банковского реквизита
        card_information_store_id:
          type: integer
          description:
            "Идентификатор кредитной карты. Обязательно, если 'payment_type_id':
            3 или  'payment_type_id': 4"
        company_id:
          type: integer
          description: Идентификатор компании-плательщика
        from_city_id:
          type: integer
          description: Идентификатор города отправления
        payment_type_id:
          type: integer
          description: Идентификатор способа оплаты
        profile_id:
          type: integer
          description: Идентификатор профиля путешественника
      required:
        - company_id
        - from_city_id
        - payment_type_id
        - profile_id
      type: object
    CreateTripRequestV2:
      properties:
        external_company_id:
          type: string
        external_profile_id:
          type: string
        from_city_id:
          type: integer
        payment_type:
          $ref: "#/components/schemas/PaymentType"
        trip_destination_requests:
          type: array
          items:
            $ref: "#/components/schemas/TripDestinationRequest"
      required:
        - from_city_id
        - payment_type
      type: object
    CustomProperty:
      properties:
        description:
          type: string
          description: Описание
        format_rule:
          $ref: "#/components/schemas/FormatRule"
        id:
          type: integer
          description: Идентификатор дополнительного данного
        is_changeable:
          type: boolean
          description: "Признак: доступность редактирования поля"
        is_list:
          type: boolean
          description: "Признак: является ли поле списком"
        is_required:
          type: boolean
          description: Признак обязательности заполнения
        is_visible:
          type: boolean
          description: Признак отображения поля
        list_value:
          description: "'Значение по умолчанию, если тип поля - список' или 'Выбранное значении при сохранении объекта'"
          items:
            $ref: "#/components/schemas/CustomPropertyValue"
        name:
          description: Наименование
          items:
            $ref: "#/components/schemas/LocalizedString"
        text_value:
          type: string
          description: "'Значение по умолчанию, если тип поля - не список' или 'Выбранное значении при сохранении объекта'"
        validation_messages:
          type: array
          description: Результат валидации поля
          items:
            $ref: "#/components/schemas/LocalizedString"
        values:
          type: array
          description: Список доступных значений для выбора
          items:
            $ref: "#/components/schemas/CustomPropertyValue"
      required:
        - id
        - is_changeable
        - is_list
        - is_required
        - is_visible
      type: object
      description: Дополнительные данные
    CustomPropertyDependent:
      properties:
        dependent_custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomProperty"
        validation_messages:
          type: array
          description: Результат валидации дополнительных данных 
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
      description: Зависимые дополнительные данные
    CustomPropertyValue:
      properties:
        client_code:
          type: string
          description: Код значения
        description:
          type: string
          description: Описание значения
        id:
          type: integer
          description: Идентификатор значения
        name:
          description: Наименование значения
          items:
            $ref: "#/components/schemas/LocalizedString"
      required:
        - id
      type: object
      description: Список доступных значений для выбора
    CustomPropertyValueOnly:
      description: Дополнительные данные
      properties:
        name:
          description: Наименование дополнительного данного
          items:
            $ref: "#/components/schemas/LocalizedString"
        value:
          description: Значение дополнительного данного
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    DataResponseOfAuthFxState:
      allOf:
        - properties:
            data:
              $ref: "#/components/schemas/AuthFxState"
          type: object
        - $ref: "#/components/schemas/BaseResponse"
        - $ref: "#/components/schemas/BaseResponseExtensions"
    DataResponseOfAuthorizationData:
      allOf:
        - properties:
            data:
              $ref: "#/components/schemas/AuthorizationData"
          type: object
        - $ref: "#/components/schemas/BaseResponse"
        - $ref: "#/components/schemas/BaseResponseExtensions"
    DataResponseOfBoolean:
      properties:
        data:
          type: boolean
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - data
        - is_success
      type: object
    DataResponseOfBusinessTripsAnalytics:
      properties:
        data:
          $ref: "#/components/schemas/BusinessTripsAnalytics"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешно выполненного запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfCommentRequest:
      properties:
        data:
          $ref: "#/components/schemas/CommentRequest"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfCountedPushNotifications:
      properties:
        data:
          $ref: "#/components/schemas/CountedPushNotifications"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfCustomPropertyDependent:
      properties:
        data:
          $ref: "#/components/schemas/CustomPropertyDependent"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешного выполненного запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfEmergencyCallNumber:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/EmergencyCallNumber"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfInsertOrUpdateBusinessTripsCustomPropertiesResponse:
      properties:
        data:
          $ref:
            "#/components/schemas/InsertOrUpdateBusinessTripsCustomPropertiesRe\
            sponse"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfInt32:
      properties:
        data:
          type: integer
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - data
        - is_success
      type: object
    DataResponseOfJourneyAvailableCancellationInfo:
      properties:
        data:
          $ref: "#/components/schemas/JourneyAvailableCancellationInfo"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешного выполнения запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
      description: Информация по возможности отмены командировки и коды причин для отмены услуг
    DataResponseOfJourneyInfo:
      properties:
        data:
          $ref: "#/components/schemas/JourneyInfo"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfJourneyInfoCompatible:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/JourneyInfoCompatible"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfJourneyNumbers:
      properties:
        data:
          $ref: "#/components/schemas/JourneyNumbers"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешного выполнения запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfOptionRequestStatusInfo:
      description: Информация по статусу полискового запроса
      properties:
        data:
          $ref: "#/components/schemas/OptionRequestStatusInfo"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешно выполненого запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfPaymentRequisites:
      properties:
        data:
          $ref: "#/components/schemas/PaymentRequisites"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешного выполнения запроса
        message:
          type: string
          description: Cообщение
      required:
        - is_success
      type: object
    DataResponseOfRailVariantDetail:
      properties:
        data:
          description: Детальная информация по варианту ЖД
          items:
            $ref: "#/components/schemas/RailVariantDetail"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешно выполненного запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfSearchRequest:
      properties:
        data:
          $ref: "#/components/schemas/SearchRequest"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешного выполнения запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfServiceDuplicateInfo:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/ServiceDuplicateInfo"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfServiceNumberInfo:
      properties:
        data:
          $ref: "#/components/schemas/ServiceNumberInfo"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfServicesForBusinessTrip:
      properties:
        data:
          type: array
          description: Информация по созданным услугам
          items:
            $ref: "#/components/schemas/ServicesForBusinessTrip"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешно выполненного запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfString:
      properties:
        data:
          type: string
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DataResponseOfVariantCountInfo:
      properties:
        data:
          $ref: "#/components/schemas/VariantCountInfo"
        errors:
          description: Список ошибок
          type: array
          items:
            type: string 
        is_success:
          type: boolean
          description: Признак успешного выполнения запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfVariantDetail:
      properties:
        data:
          $ref: "#/components/schemas/VariantDetail"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешно выполненного запроса
        message:
          type: string
          description: Сообщение
      required:
        - is_success
      type: object
    DataResponseOfVariantInfo:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/VariantInfo"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        message:
          type: string
      required:
        - is_success
      type: object
    DetailsRequest:
      properties:
        detail_index:
          type: integer
      type: object
    Document:
      description: Документы
      properties:
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
        created_at:
          type: string
          description: Дата и время создания документа
        deleted_at_field:
          type: string
          description: Дата и время удаления документа
        location:
          type: string
          description: Номер места. Только ЖД
        ticket_token:
          type: string
          description: Номер билета
      type: object
    EmailAddress:
      properties:
        address:
          type: string
          description: Email адрес
        type:
          type: string
          description: Тип адреса
      type: object
      description: Email адреса профиля
    EmergencyCallNumber:
      properties:
        additional_info:
          type: string
        phone_number:
          type: string
      type: object
    FilterParameter:
      properties:
        parameter_name:
          type: string
          description: Название фильтра
        values:
          type: array
          description: Значения фильтра
          items:
            $ref: "#/components/schemas/CodeDescription"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          description: Признак успешного выполнения запроса
          type: boolean
        message:
          type: string
          description: Сообщение
      type: object
    FormatRule:
      properties:
        description:
          description: "Описание правила - подсказка для поля (плейсхолдер)"
          items:
            $ref: "#/components/schemas/LocalizedString"
        value:
          type: string
          description: Регулярное выражение
      type: object
      description: Правила валидации поля
    GeoData:
      description: Географические координаты
      properties:
        latitude:
          type: number
          description: Широта
        longitude:
          type: number
          description: Долгота
      required:
        - latitude
        - longitude
      type: object
    GetOrderArgs:
      properties:
        city_id:
          type: integer
        date_from:
          type: string
        date_to:
          type: string
        max_count:
          type: integer
        order_number:
          type: integer
        page_number:
          type: integer
        service_state:
          type: array
          items:
            $ref: "#/components/schemas/ServiceState"
        service_types:
          type: array
          items:
            $ref: "#/components/schemas/ServiceType"
        status_filter:
          type: string
        traveller_profile_id:
          type: integer
      required:
        - max_count
        - page_number
      type: object
    GetTripsArgs:
      properties:
        date_from:
          type: string
        date_to:
          type: string
        max_count:
          type: integer
        number:
          type: integer
        order_number:
          type: integer
        page_number:
          type: integer
        service_state:
          type: array
          items:
            $ref: "#/components/schemas/ServiceState"
        service_types:
          type: array
          items:
            $ref: "#/components/schemas/ServiceType"
        status_filter:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripStatus"
        travel_from_city_id:
          type: integer
        traveller_profile_id:
          type: integer
        travel_to_city_id:
          type: integer
      required:
        - max_count
        - order_number
        - page_number
      type: object
    IdsRequest:
      properties:
        ids:
          type: array
          items:
            type: integer
      type: object
    InsertOrUpdateBusinessTripsCustomPropertiesRequest:
      properties:
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/UpdateCustomPropertyRequest"
      type: object
    InsertOrUpdateBusinessTripsCustomPropertiesResponse:
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/UpdateCustomPropertyResponse"
        type:
          $ref: "#/components/schemas/InsertOrUpdateType"
      required:
        - type
      type: object
    IServiceDetail:
      allOf:
        - $ref: "#/components/schemas/IServiceInfo"
        - properties:
            reservation_expires_at:
              type: string
              description:
                Время, до которого можно оплатить забронированную услугу. Формат
                YYYY-MM-DDThh:mm:ssZ
            reservation_token:
              type: string
              description: Номер бронирования услуги
            travellers:
              type: array
              items:
                $ref: "#/components/schemas/Traveller"
            documents:
              type: array
              items:
                $ref: "#/components/schemas/Document"
      type: object
    IServiceDetailWithAuth:
      properties:
        analytics:
          $ref: "#/components/schemas/Analytics"
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        authorization_token:
          type: string
        available_actions:
          $ref: "#/components/schemas/AvailableActions"
        comments:
          type: array
          items:
            $ref: "#/components/schemas/Post"
        documents:
          type: array
          items:
            $ref: "#/components/schemas/Document"
        end_at:
          type: string
        end_at_utc:
          type: string
        number:
          type: integer
        order_number:
          type: integer
        reservation_expires_at:
          type: string
        reservation_expires_at_utc:
          type: string
        reservation_token:
          type: string
        service_state:
          $ref: "#/components/schemas/ServiceState"
        start_at:
          type: string
        start_at_utc:
          type: string
        status:
          $ref: "#/components/schemas/ServiceStatus"
        tariff_total:
          type: number
        travellers:
          type: array
          items:
            $ref: "#/components/schemas/Traveller"
        type:
          type: string
        unique_identifier:
          type: string
      required:
        - authorization_assertion
        - authorization_status
        - available_actions
        - number
        - order_number
        - service_state
        - status
        - tariff_total
      type: object
    IServiceInfo:
      properties:
        analytics:
          $ref: "#/components/schemas/Analytics"
        authorization_assertion:
          $ref: "#/components/schemas/AuthorizationAssertion"
        authorization_status:
          $ref: "#/components/schemas/AuthorizationStatus"
        available_actions:
          $ref: "#/components/schemas/AvailableActions"
        end_at:
          type: string
          description:
            Дата и время окончания оказания услуги в часовом поясе пользователя.
            Формат YYYY-MM-DDThh:mm:ss
        end_at_utc:
          type: string
          description: Дата и время окончания оказания услуги. Формат YYYY-MM-DDThh:mm:ssZ
        number:
          type: integer
          description: Номер услуги
        order_number:
          type: integer
          description: Номер заказа
        reservation_expires_at_utc:
          type: string
          description:
            Время, до которого можно оплатить забронированную услугу. Формат
            YYYY-MM-DDThh:mm:ssZ
        service_state:
          $ref: "#/components/schemas/ServiceState"
        start_at:
          type: string
          description:
            Дата и время начала оказания услуги в часовом поясе пользователя.
            Формат YYYY-MM-DDThh:mm:ss
        start_at_utc:
          type: string
          description: Дата и время начала оказания услуги. Формат YYYY-MM-DDThh:mm:ssZ
        status:
          $ref: "#/components/schemas/ServiceStatus"
        tariff_total:
          type: number
          description: Общая стоимость услуги, включая сервисный сбор
        unique_identifier:
          type: string
          description: Идентификатор услуги (Id в Base64)
        type:
          $ref: "#/components/schemas/ServiceType"
      required:
        - authorization_assertion
        - authorization_status
        - available_actions
        - number
        - order_number
        - service_state
        - status
        - tariff_total
        - type
      type: object
    JourneyAvailableCancellationInfo:
      properties:
        business_trip_cancellation_available:
          type: boolean
          description: Признак доступности отмены командировки
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          description: Признак успешного выполнения запроса
          type: boolean
        message:
          description: "Сообщение"
          items:
            $ref: "#/components/schemas/LocalizedString"
        services:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripServiceReasonCodes"
      required:
        - business_trip_cancellation_available
        - is_success
      type: object
      description: Данные
    JourneyCreateJourneyRequestV2:
      properties:
        create_trip_requests:
          type: array
          items:
            $ref: "#/components/schemas/JourneyCreateTripRequestV2"
      type: object
    JourneyCreateTripRequestV2:
      description: Запросы на создание командировок
      properties:
        card_information_store_id:
          type: integer
          description:
            "Идентификатор кредитной карты. Обязательно, если 'payment_type_id':
            3 или 'payment_type_id': 4"
        company_id:
          type: integer
          description: Идентификатор компании-плательщика.
        from_city_id:
          type: integer
          description: Идентификатор города отправления
        payment_type:
          $ref: "#/components/schemas/PaymentType"
        profile_id:
          type: integer
          description: Идентификатор профиля путешественника
        trip_destination_requests:
          type: array
          items:
            $ref: "#/components/schemas/TripDestinationRequest"
      required:
        - company_id
        - from_city_id
        - payment_type
        - profile_id
      type: object
    JourneyInfo:
      properties:
        company:
          $ref: "#/components/schemas/Company"
        created_at:
          type: string
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        ends_on:
          type: string
        number:
          type: integer
        starts_on:
          type: string
        to_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        trips:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripInfo"
      required:
        - created_at
        - ends_on
        - number
        - starts_on
      type: object
    JourneyInfoCompatible:
      properties:
        company:
          $ref: "#/components/schemas/Company"
        created_at:
          type: string
        created_by:
          $ref: "#/components/schemas/ProfileInfo"
        ends_on:
          type: string
        number:
          type: integer
        starts_on:
          type: string
        to_city:
          description: ""
          items:
            $ref: "#/components/schemas/Location"
        trips:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripInfoCompatible"
      required:
        - created_at
        - ends_on
        - number
        - starts_on
      type: object
    JourneyNumbers:
      description: Информация по созданным командировкам
      properties:
        business_trip_numbers:
          type: array
          description: Номера командировок в поездке
          items:
            type: integer
        journey_number:
          type: integer
          description: Номер созданной поездки
        time_links:
          type: array
          description: "Ссылки на созданные командировки в Time. URL:
            https://time.aero/trips/journey/{journey_number}/{business_trip_num\
            ber}/"
          items:
            type: string
      required:
        - journey_number
      type: object
    LocalizedString:
      properties:
        en:
          type: string
          description: На английском языке
        ru:
          description: На русском языке
          type: string
      type: object
    Location:
      properties:
        address:
          $ref: "#/components/schemas/Address"
        code:
          type: string
          description: Сокращенный код локации на латинице
        id:
          type: integer
          description: ID объекта
        image_url:
          type: string
          description: URL cвязанного изображения
        located_in:
          description: Местонахождение
          items:
            $ref: "#/components/schemas/LocationNext"
        name:
          description: Название локации
          items:
            $ref: "#/components/schemas/LocalizedString"
        terminal:
          type: string
          description: Терминал (например, аэропорта)
        time_zone_offset:
          type: string
          description:
            Смещение часового пояса в часах относительно UTC+0 в формате
            'HH:00:00'
        type:
          $ref: "#/components/schemas/LocationType"
      required:
        - id
      type: object
    LocationNext:
      properties:
        address:
          $ref: "#/components/schemas/Address"
        code:
          type: string
          description: Сокращенный код локации на латинице
        id:
          type: integer
          description: ID объекта
        image_url:
          type: string
          description: URL cвязанного изображения
        located_in:
          description: Повторяющийся объект. Конечное местонахождение - страна
          type: object
        name:
          description: Название локации
          items:
            $ref: "#/components/schemas/LocalizedString"
        terminal:
          type: string
          description: Терминал (например, аэропорта)
        time_zone_offset:
          type: string
          description:
            Смещение часового пояса в часах относительно UTC+0 в формате
            'HH:00:00'
        type:
          $ref: "#/components/schemas/LocationType"
      required:
        - id
      type: object
    LookupItem:
      properties:
        code:
          type: string
          description: Код объекта
        id:
          type: integer
          description: Идентификатор объекта
        name:
          description: Название объекта
          items:
            $ref: "#/components/schemas/LocalizedString"
        type:
          $ref: "#/components/schemas/LookupItemType"
      required:
        - id
      type: object
    LookupItems:
      oneOf:
        - $ref: "#/components/schemas/AirlineLookupItem"
        - $ref: "#/components/schemas/AirportLookupItem"
        - $ref: "#/components/schemas/CityLookupItem"
        - $ref: "#/components/schemas/HotelLookupItem"
        - $ref: "#/components/schemas/RailwayStationLookupItem"
    MessageRequest:
      properties:
        message:
          type: string
          description: Текст сообщения, сопровождающего запрос
      type: object
      description: Тело запроса
    ModelCompany:
      properties:
        company_name:
          description: Наименование компании
          items:
            $ref: "#/components/schemas/LocalizedString"
        holding_name:
          description: Наименование холдинга
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          type: integer
          description: Идентификатор компании
      required:
        - id
      type: object
      description: Информация о компании профайла
    ModelLocalizedString:
      properties:
        en:
          type: string
        ru:
          type: string
      type: object
    ModelLocation:
      properties:
        code:
          type: string
          description: Сокращенный код страны или города на латинице
        id:
          type: integer
          description: ID объекта
        image_url:
          type: string
          description: URL cвязанного изображения
        located_in:
          $ref: "#/components/schemas/ModelLocationNext"
        name:
          description: Наименование локации
          items:
            $ref: "#/components/schemas/LocalizedString"
        terminal:
          type: string
          description: Терминал (например, аэропорта)
        time_zone_offset:
          type: string
          description: Смещение часового пояса в часах относительно UTC+0 в формате "HH:00:00"
        type:
          $ref: "#/components/schemas/LocationType"
      required:
        - id
        - type
      type: object
    ModelLocationNext:
      properties:
        code:
          type: string
          description: Сокращенный код страны или города на латинице
        id:
          type: integer
          description: ID объекта
        image_url:
          type: string
          description: URL cвязанного изображения
        located_in:
          description: Повторяющийся объект. Конечное местонахождение - страна
          type: object
        name:
          description: Наименование локации
          items:
            $ref: "#/components/schemas/LocalizedString"
        terminal:
          type: string
          description: Терминал (например, аэропорта)
        time_zone_offset:
          type: string
          description: Смещение часового пояса в часах относительно UTC+0 в формате "HH:00:00"
        type:
          $ref: "#/components/schemas/LocationType"
      required:
        - id
        - type
      type: object
    ModulePermissions:
      properties:
        authorization:
          type: boolean
        business_trips:
          type: boolean
        my_orders:
          type: boolean
        offers:
          type: boolean
      required:
        - authorization
        - business_trips
        - my_orders
        - offers
      type: object
    NullableOfBankCardType:
      properties:
        has_value:
          type: boolean
        value:
          $ref: "#/components/schemas/BankCardType"
      required:
        - has_value
        - value
      type: object
    NullableOfBonusCardType:
      properties:
        has_value:
          type: boolean
          description: Признак наличия у карты типа
        value:
          $ref: "#/components/schemas/BonusCardType"
      required:
        - has_value
        - value
      type: object
      description: Тип карты
    NullableOfCompartmentType:
      properties:
        has_value:
          type: boolean
          description: Признак наличия типа
        value:
          $ref: "#/components/schemas/CompartmentType"
      required:
        - has_value
        - value
      type: object
      description: Тип купе
    NullableOfTrainCategory:
      properties:
        has_value:
          type: boolean
        value:
          $ref: "#/components/schemas/TrainCategory"
      required:
        - has_value
        - value
      type: object
    Object:
      properties: {}
      type: object
    OptionRequest:
      description: Опции запроса поиска
      properties:
        departure_on:
          type: string
          description: Дата поездки в формате YYYY-MM-DD. Для всех режимов поиска услуг
        round_trip_departure_on:
          type: string
          description: Дата поездки обратно в формате YYYY-MM-DD. Для всех режимов поиска услуг
        arrival_city_id:
          type: integer
          description: ID города прибытия
        departure_city_id:
          type: integer
          description: ID города отправления
        checkin_on:
          type: string
          description: Дата заезда в формате YYYY-MM-DD. Для режима поиска Отелей
        checkout_on:
          type: string
          description: Дата выезда в формате YYYY-MM-DD. Для режима поиска Отелей.
        comment:
          type: string
          description: Комментарий пользователя
        number:
          type: integer
          description: Номер опции поиска
        sequence_number:
          type: integer
          description: Последовательный номер. Например, для ЖД - при запросе туда-обратно опция разделяется на две, где опция 'туда' имеет sequence_number=0, 'обратно' - sequence_number=1
        service_type:
          $ref: "#/components/schemas/SearchServiceType"
      required:
        - service_type
        - departure_on
        - arrival_city_id
        - departure_city_id
      type: object
    OptionRequestStatusInfo:
      description: Информация по статусу поиска. Если status = Completed и count = 0, значит результаты не найдены.
      properties:
        count:
          type: integer
          description: Количество вариантов поиска
        status:
          $ref: "#/components/schemas/OptionRequestStatus"
      required:
        - count
        - status
      type: object
    Order:
      properties:
        archivable_after:
          type: string
        company_id:
          type: integer
        company_name:
          description: ""
          items:
            $ref: "#/components/schemas/LocalizedString"
        created_at:
          type: string
        created_at_utc:
          type: string
        created_by_profile_id:
          type: integer
        description:
          type: string
        end_on:
          type: string
        has_unread_posts:
          type: boolean
        id:
          type: integer
        number:
          type: integer
        requested_by_profile_id:
          type: integer
        requisites:
          $ref: "#/components/schemas/OrderRequisites"
        service_number:
          type: integer
        services:
          type: array
          items:
            $ref: "#/components/schemas/IServiceDetail"
        start_on:
          type: string
        status:
          $ref: "#/components/schemas/OrderStatus"
        updated_at:
          type: string
        updated_at_utc:
          type: string
      required:
        - created_at
        - created_at_utc
        - created_by_profile_id
        - has_unread_posts
        - id
        - number
        - requested_by_profile_id
        - service_number
        - status
      type: object
    OrderRequisites:
      properties:
        bank_account:
          $ref: "#/components/schemas/BankAccount"
        payment_policy:
          $ref: "#/components/schemas/PaymentPolicy"
      type: object
    OrdersReasonCodeValue:
      properties:
        client_code:
          type: string
          description: Код значения на стороне клиента
        id:
          type: integer
          description: Идентификатор значения причины
        name:
          description: Название значения
          items:
            $ref: "#/components/schemas/LocalizedString"
      required:
        - id
      type: object
      description: Параметры значений кодов причин
    PagedResponseOfIServiceInfo:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/IServiceInfo"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        items_count:
          type: integer
        items_per_page:
          type: integer
        message:
          type: string
        page_number:
          type: integer
      required:
        - is_success
        - items_count
        - items_per_page
        - page_number
      type: object
    PagedResponseOfJourneyInfo:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/JourneyInfo"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        items_count:
          type: integer
        items_per_page:
          type: integer
        message:
          type: string
        page_number:
          type: integer
      required:
        - is_success
        - items_count
        - items_per_page
        - page_number
      type: object
    PagedResponseOfOrder:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/Order"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        items_count:
          type: integer
        items_per_page:
          type: integer
        message:
          type: string
        page_number:
          type: integer
      required:
        - is_success
        - items_count
        - items_per_page
        - page_number
      type: object
    PagedResponseOfSearchRequest:
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/SearchRequest"
        errors:
          type: array
          items:
            type: string
        is_success:
          type: boolean
        items_count:
          type: integer
        items_per_page:
          type: integer
        message:
          type: string
        page_number:
          type: integer
      required:
        - is_success
        - items_count
        - items_per_page
        - page_number
      type: object
    PagedResponseOfVariantInfo:
      properties:
        data:
          type: array
          description: Информация по вариантам
          items:
            $ref: "#/components/schemas/VariantInfo"
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: boolean
          description: Признак успешного запроса
        items_count:
          type: integer
          description: Количество вариантов
        items_per_page:
          type: integer
          description: Количество вариантов на странице
        message:
          type: string
          description: Сообщение
        page_number:
          type: integer
          description: Номер страницы
      required:
        - is_success
        - items_count
        - items_per_page
        - page_number
      type: object
    PaymentPolicy:
      description: Способы оплаты
      properties:
        payment_policy_items:
          type: array
          items:
            $ref: "#/components/schemas/PaymentPolicyItem"
        payment_type_code:
          $ref: "#/components/schemas/PaymentType"
        payment_type_id:
          type: integer
          description: Идентификатор способа оплаты
      required:
        - payment_type_code
        - payment_type_id
      type: object
    PaymentPolicyItem:
      description: Данные способа оплаты
      properties:
        bank_card_type:
          $ref: "#/components/schemas/BankCardType"
        caption:
          type: string
          description: Часть номера
        card_holder_name:
          type: string
          description: Держатель карты
        id:
          type: integer
          description: Идентификатор карты
      required:
        - id
      type: object
    PaymentRequisites:
      description: Доступные способы оплаты
      properties:
        bank_accounts:
          type: array
          items:
            $ref: "#/components/schemas/BankAccount"
        payment_policies:
          type: array
          items:
            $ref: "#/components/schemas/PaymentPolicy"
      type: object
    PaymentRequisitesRequest:
      properties:
        bank_account_id:
          type: integer
        card_information_store_id:
          type: integer
        payment_type_id:
          type: integer
      required:
        - payment_type_id
      type: object
    PerformExecutionRequest:
      properties:
        document_id:
          type: integer
          description: Идентификатор документа
      required:
        - document_id
      type: object
    PhoneNumberContact:
      properties:
        area_code:
          type: string
          description: Код области
        country_code:
          type: string
          description: Код страны
        extension_number:
          type: string
          description: Дополнительный номер
        phone_number:
          type: string
          description: Номер телефона
        type:
          type: string
          description: Тип телефона
          enum:
            - work
            - home
            - mobile
      type: object
      description: Телефонные номера профиля
    PlaceInfo:
      properties:
        compartment_type:
          $ref: "#/components/schemas/RailCompartmentType"
        number:
          type: integer
          description: Номер места в вагоне
      required:
        - compartment_type
        - number
      type: object
    PlacesSummary:
      description: Количество свободных мест в вагоне по типам
      properties:
        bottom:
          type: integer
          description: Количество нижних мест в вагоне
        bottom_side:
          type: integer
          description: Количество нижних боковых мест в вагоне
        female:
          type: integer
          description: Количество мест в женских купе
        man:
          type: integer
          description: Количество мест в мужских купе
        mixed:
          type: integer
          description: Количество общих мест
        not_defined:
          type: integer
          description: Количество мест без определения к категории
        top:
          type: integer
          description: Количество верхних мест в вагоне
        top_side:
          type: integer
          description: Количество боковых верхних мест
        wo_desc:
          type: integer
          description: Без описания
      required:
        - bottom
        - bottom_side
        - female
        - man
        - mixed
        - not_defined
        - top
        - top_side
        - wo_desc
      type: object
    Post:
      description: Посты (сообщения) для услуги
      properties:
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
        id:
          type: integer
          description: Идентификатор поста
        is_my_message:
          type: boolean
          description: Признак своего поста
        message:
          type: string
          description: Текст поста
        posted_at_utc:
          type: string
          description: Дата и время публикации поста в UTC
        posted_by:
          description: Информация по профилю пользователя, который создал пост
          items:
            $ref: "#/components/schemas/ProfileInfo"
        read:
          type: boolean
          description: Признак прочитанности поста
        version:
          description: Версия сообщения в Base64
          type: string
      required:
        - id
        - is_my_message
        - posted_at_utc
        - read
        - version
      type: object
    Preference:
      properties:
        comments:
          type: string
          description: Комментарии
        id:
          type: integer
          description: Идентификатор предпочтения
        internal_comments:
          type: string
          description: Внутренние комментарии
        preference_informations:
          type: array
          items:
            $ref: "#/components/schemas/PreferenceInformation"
      required:
        - id
      type: object
      description: Предпочтения профиля
    PreferenceInformation:
      properties:
        code:
          type: string
          description: Код предпочтения
        id:
          type: integer
          description: Идентификатор
        name:
          description: Наименование предпочтения
          items:
            $ref: "#/components/schemas/LocalizedString"
        type:
          type: string
          description: Тип предпочтения
          enum:
            - AircraftMeal
            - AircraftSeat
            - HotelRoom
            - Vehicle
      required:
        - id
      type: object
      description: Информация о предпочтении
    Profile:
      properties:
        additional_info:
          type: array
          items:
            $ref: "#/components/schemas/AdditionalInfo"
        bonus_cards:
          type: array
          items:
            $ref: "#/components/schemas/BonusCard"
        company_id:
          type: integer
          description: Идентификатор компании
        company_info:
          $ref: "#/components/schemas/ModelCompany"
        contacts:
          $ref: "#/components/schemas/Contacts"
        created_at:
          type: string
          description: Дата и время создания профиля
        date_of_birth:
          type: string
          description: Дата рождения профиля
        deleted_at:
          type: string
          description: Дата и время удаления профиля
        documents:
          type: array
          items:
            $ref: "#/components/schemas/ProfilesDocument"
        first_name:
          description: Имя профайла
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          type: integer
          description: ID профайла
        is_vip:
          type: boolean
          description: Признак VIP-клиента
        last_name:
          description: Фамилия профайла
          items:
            $ref: "#/components/schemas/LocalizedString"
        middle_name:
          description: Отчество профайла
          items:
            $ref: "#/components/schemas/LocalizedString"
        photo_content_length:
          type: integer
          description: Размер картинки в байтах
        photo_content_type:
          type: string
          description: Формат картинки
        photo_fingerprint:
          type: string
          description: Служебное поле, заполняется после сохранении картинки во внутреннее хранилище. По этому полю определяется необходимость повторной загрузки аватара с сервера
        preference:
          $ref: "#/components/schemas/Preference"
        sex:
          $ref: "#/components/schemas/Sex"
        status:
          $ref: "#/components/schemas/Status"
        title:
          $ref: "#/components/schemas/Title"
        updated_at:
          type: string
          description: Дата и время обновления профиля
        version:
          type: string
          description: Версия изменения
        work_location_city:
          description: Город места работы
          items:
            $ref: "#/components/schemas/ModelLocation"
        work_location_city_id:
          type: integer
          description: Идентификатор города места работы
      required:
        - company_id
        - created_at
        - id
        - is_vip
        - sex
        - status
        - title
      type: object
    ProfileInfo:
      description: "Профиль: краткая информация"
      properties:
        avatar_url:
          type: string
          description: URL аватара пользователя
        company_info:
          $ref: "#/components/schemas/Company"
        first_name:
          description: Имя
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          type: integer
          description: ID пользователя
        last_name:
          description: Фамилия
          items:
            $ref: "#/components/schemas/LocalizedString"
        middle_name:
          description: Отчество
          items:
            $ref: "#/components/schemas/LocalizedString"
        sex:
          $ref: "#/components/schemas/EnumSex"
      required:
        - id
        - sex
      type: object
    ProfileInfoWithLevel:
      properties:
        avatar_url:
          type: string
          description: URL к аватрке
        company_info:
          $ref: "#/components/schemas/Company"
        first_name:
          description: Имя
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          type: integer
          description: ID
        last_name:
          description: Фамилия
          items:
            $ref: "#/components/schemas/LocalizedString"
        middle_name:
          description: Отчество
          items:
            $ref: "#/components/schemas/LocalizedString"
        profile_level:
          description: Грейд
          items:
            $ref: "#/components/schemas/ProfileLevel"
        sex:
          $ref: "#/components/schemas/EnumSex"
      required:
        - id
        - sex
      type: object
      description: Информация по профилю путешественника
    ProfileLevel:
      properties:
        company_id:
          type: integer
          description: ID компании
        id:
          type: integer
          description: ID грейда
        name:
          description: Наименование грейда
          items:
            $ref: "#/components/schemas/LocalizedString"
        weight:
          type: integer
          description: Приоритет грейда
      required:
        - company_id
        - id
        - weight
      type: object
    ProfileLookup:
      properties:
        date_of_birth:
          description: Дата рождения профиля
          type: string
        first_name:
          description: Имя профиля
          items:
            $ref: "#/components/schemas/LocalizedString"
        id:
          description: Идентификатор профиля
          type: integer
        last_name:
          description: Фамилия профиля
          items:
            $ref: "#/components/schemas/LocalizedString"
        middle_name:
          description: Отчество профиля
          items:
            $ref: "#/components/schemas/LocalizedString"
        sex:
          $ref: "#/components/schemas/EnumSex"
        title:
          $ref: "#/components/schemas/ProfilesProfileLookupItemTitle"
      required:
        - id
        - sex
      type: object
    ProfileLookupItem:
      properties:
        company:
          description: Информация о компании профиля
          items:
            $ref: "#/components/schemas/CompanyLookup"
        profile:
          description: Информация профиля
          items:
            $ref: "#/components/schemas/ProfileLookup"
      type: object
    ProfilesDocument:
      properties:
        citizenship_country:
          description: Страна гражданства
          items:
            $ref: "#/components/schemas/ModelLocation"
        city_of_issue:
          description: Локация выдачи документа
          items:
            $ref: "#/components/schemas/ModelLocation"
        city_of_issue_id:
          type: integer
          description: Идентификатор города выдачи
        destination_country:
          description: Принимающая страна
          items:
            $ref: "#/components/schemas/ModelLocation"
        expires_on:
          type: string
          description: Дата окончания срока
        first_name:
          type: string
          description: Имя, на кого выдан документ
        id:
          type: integer
          description: Идентификатор документа
        issued_on:
          type: string
          description: Дата выдачи документа
        last_name:
          type: string
          description: Фамилия на кого выдан документ
        master_document_id:
          type: integer
          description: Идентификатор связанного документа. Например, идентификатор заграничного паспорта, на который выдана виза
        number:
          type: string
          description: Номер документа
        place_of_birth:
          type: string
          description: Место рождения
        series:
          type: string
          description: Серия документа
        type:
          $ref: "#/components/schemas/DocumentType"
      required:
        - id
        - type
      type: object
      description: Документы профиля
    ProfilesProfileLookupItemTitle:
      description: Обращение (титул) профиля
      properties:
        id:
          description: Идентификатор обращения
          type: integer
        name:
          description: Наименование обращения
          items:
            $ref: "#/components/schemas/LocalizedString"
      required:
        - id
      type: object
    PushNotificationToken:
      properties:
        lang:
          $ref: "#/components/schemas/Lang"
        platform:
          $ref: "#/components/schemas/MobilePlatform"
        sandbox:
          type: boolean
        token:
          type: string
      required:
        - lang
        - platform
        - sandbox
      type: object
    RailParameters:
      properties:
        bed_accessories:
          type: boolean
          description: Признак наличия постельного белья
        compartment_type:
          $ref: "#/components/schemas/NullableOfCompartmentType"
        extend_booking:
          type: boolean
          description: Расширенное бронирование (до 3-х часов)
        location_type:
          type: integer
          description: Тип локации. 0 - Undefined, 1 - Airport, 2 - RailwayStation, 3 - City, 4 - Country
        remote_checkin:
          type: boolean
          description: Признак электронной регистрации
        seats_from:
          type: integer
          description: Начало диапазона мест
        seats_to:
          type: integer
          description: Окончание диапазона мест
        traveller_parameters:
          type: array
          items:
            $ref: "#/components/schemas/RailTravellerParameter"
        upper_count:
          type: integer
          description: "Фильтр Размещение: количество верхних мест"
        bottom_count:
          type: integer
          description: "Фильтр Размещение: количество нижних мест"
      required:
        - extend_booking
        - remote_checkin
      type: object
      description: Параметры предпочтения мест для бронирования
    RailTravellerParameter:
      properties:
        place_count:
          type: integer
          description: Количество мест
        traveller_id:
          type: integer
          description: Идентификатор путешественника
      required:
        - place_count
        - traveller_id
      type: object
      description: Данные о путешественниках
    RailVariantDetail:
      description: ЖД
      properties:
        arrival_to:
          description: Пункт прибытия
          items:
            $ref: "#/components/schemas/LocationPoint"
        departure_from:
          description: Пункт отправления
          items:
            $ref: "#/components/schemas/LocationPoint"
        departure_at:
          type: string
          description: Дата и время отправления по местному времени
        departure_at_utc:
          type: string
          description: Дата и время отправления в UTC
        is_local_departure_at:
          type: boolean
          description: "Признак типа времени отправления: true - в departure_at местное время, false - в departure_at московское время"
        arrival_at:
          type: string
          description: Дата и время прибытия по местному времени
        arrival_at_utc:
          type: string
          description: Дата и время прибытия в UTC
        is_local_arrival_at:
          type: boolean
          description: "Признак типа времени прибытия: true - в departure_at местное время, false - в departure_at московское время"
        duration:
          type: string
          description: Время в пути
        train_code:
          type: string
          description: Номер поезда
        train_name:
          type: string
          description: Наименование поезда
        train_category:
          description: Категория поезда
          type: string
          enum:
            - Fast
            - HighSpeed
        branded:
          type: boolean
          description: Признак брендированного поезда
        currency:
          $ref: "#/components/schemas/CurrencyCode"
        carriage_details:
          type: array
          items:
            $ref: "#/components/schemas/CarriageDetail"
        service_type:
          $ref: "#/components/schemas/ServiceType"
        key:
          type: string
          description: Код варианта
        start_on:
          type: string
          description: Дата и время начала варианта
        end_on:
          type: string
          description: Дата и время окончания варианта
        tariff_total:
          type: number
          description: Общая стоимость варианта
        is_corporate_tariff:
          type: boolean
          description: Признак корпоративного тарифа
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответствия тревел-политике
        tariff_tax:
          type: number
          description: Тарифные сборы
        corporate_tariff_code:
          type: string
          description: Код корпоративного тарифа
        start_on_utc:
          type: string
          description: Дата и время начала варианта в UTC
        end_on_utc:
          type: string
          description: Дата и время окончания варианта в UTC
        reservation_cancellation_policy:
          type: string
          description: Правила отмены бронирования
        grade_custom_list_property_value_id:
          type: integer
          description: ID значения уровня (грейда) сотрудника
        tariff_service_fee:
          type: number
          description: Сервисный сбор
        travel_policy_violation_reason:
          type: string
          description: Причина несоответствия тревел-политике
        travel_policy_violations:
          type: array
          description: Список несоответствий тревел-политике
          items:
            type: string
      required:
        - arrival_at
        - arrival_at_utc
        - branded
        - currency
        - departure_at
        - departure_at_utc
        - duration
        - is_corporate_tariff
        - is_local_arrival_at
        - is_local_departure_at
        - service_type
        - tariff_service_fee
        - tariff_total
      type: object
    AviaVariantDetail:
      description: Авиа
      properties:
        validating_airline_code:
          type: string
          description: Код валидирующего перевозчика (авиакомпании)
        is_segment_discount_variant:
          type: string
          description: Признак варианта со скидкой
        is_segment_discount_as_exact_value:
          type: string
        mini_rules:
          $ref: "#/components/schemas/MiniRule"
        legs:
          $ref: "#/components/schemas/LegDetail"
        service_type:
          $ref: "#/components/schemas/ServiceType"
        key:
          type: string
          description: Уникальный идентификатор варианта в виде хэша
        start_on:
          type: string
          description: Дата вылета в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        end_on:
          type: string
          description: Дата прилета в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        tariff_total:
          type: integer
          description: Общая стоимость
        is_corporate_tariff:
          type: boolean
          description: Признак корпоративного варианта
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответствия Travel-Policy
        tariff_tax:
          type: integer
          description: Дополнительные сборы
        corporate_tariff_code:
          type: integer
          description: Код корпоративного тарифа
        start_on_utc:
          type: string
          description: Дата вылета в UTC в формате YYYY-MM-DDThh:mm:ss
        end_on_utc:
          type: string
          description: Дата прилета в UTC в формате YYYY-MM-DDThh:mm:ss
        reservation_cancellation_policy:
          type: string
          description: Правила отмены
        grade_custom_list_property_value_id:
          type: integer
          description: Идентификатор значения уровня (грейда) сотрудника
        travel_policy_violation_reason:
          type: string
          description: Причина несоответствия тревел-политике
    ReasonCode:
      properties:
        client_code:
          type: string
          description: Код причины на стороне клиента
        id:
          type: integer
          description: Идентификатор причины
        name:
          description: "Название причины"
          items:
            $ref: "#/components/schemas/LocalizedString"
        value:
          $ref: "#/components/schemas/OrdersReasonCodeValue"
        values:
          type: array
          items:
            $ref: "#/components/schemas/OrdersReasonCodeValue"
      required:
        - id
      type: object
      description: Коды причин их возможные значения
    ReasonCodesByTraveller:
      properties:
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/ReasonCode"
        traveller:
          $ref: "#/components/schemas/TravellerInfo"
      type: object
      description: Коды причин
    ReasonCodeValue:
      description: Значения причин
      properties:
        id:
          type: integer
          description: Идентификатор причины
        value:
          type: integer
          description: Идентификатор значения причины
      required:
        - id
        - value
      type: object
    ReasonCodeValueV2:
      properties:
        code:
          type: string
        value_code:
          type: string
      type: object
    RecoveryPasswordRequest:
      properties:
        email_address:
          type: string
      type: object
    RegistrationsRequest:
      properties:
        email_address:
          type: string
        password:
          type: string
      type: object
    Regulation:
      properties:
        text:
          description: "Текст правил"
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    ReservationParametersRequest:
      properties:
        rail_parameters:
          $ref: "#/components/schemas/RailParameters"
      type: object
    ResultsCountInfo:
      properties:
        expires_at_utc:
          type: string
          description: Дата и время в UTC, в которое варианты поиска станут не актуальными
        variants_count:
          type: integer
          description: Общее количество найденных вариантов
        variants_count_avia:
          type: integer
          description: Количество найденных вариантов перелетов
        variants_count_hotel:
          type: integer
          description: Количество найденных вариантов проживания
        variants_count_rail:
          type: integer
          description: Количество найденных вариантов поездов
        variants_count_rail_round_trip:
          type: integer
          description: Количество найденных вариантов поездов в обратном направлении
      required:
        - variants_count
        - variants_count_avia
        - variants_count_hotel
        - variants_count_rail
        - variants_count_rail_round_trip
      type: object
    SearchLocation:
      properties:
        code:
          type: string
        id:
          type: integer
        name:
          description: ""
          items:
            $ref: "#/components/schemas/LocalizedString"
      required:
        - id
      type: object
    SearchRequest:
      description: Информация по запросу поиска
      properties:
        arrival_city:
          description: Информация по городу отправления
          items:
            $ref: "#/components/schemas/Location"
        company_id:
          type: integer
          description: Идентификатор компании
        created_at_utc:
          type: string
          description: Дата и время создание запроса в формате YYYY-MM-DDThh:mm:ss
        departure_city:
          description: Информация по городу прибытия
          items:
            $ref: "#/components/schemas/Location"
        departure_on:
          type: string
          description: Дата и время отправления в формате YYYY-MM-DDThh:mm:ss
        expires_at_utc:
          type: string
          description: Дата и время в UTC, в которое запрос поиска станет не актуальным
        favourites_count:
          type: integer
          description: Количество вариантов в избранном
        is_active:
          type: boolean
          description: Признак активности запроса поиска
        is_expired:
          type: boolean
          description: Признак выхода за пределы срока актуальности запроса
        is_read:
          type: boolean
          description: Признак прочитанности
        number:
          type: integer
          description: Номер запроса
        options:
          type: array
          items:
            $ref: "#/components/schemas/OptionRequest"
        profile:
          description: Профиль пользователя, для которого выполняется поиск вариантов
          items:
            $ref: "#/components/schemas/ProfileInfo"
        profile_level:
          description: Уровень (грейд) профиля
          items:
            $ref: "#/components/schemas/ProfileLevel"
        requested_by:
          description: Пользователь, который сделал запрос поиска
          items:
            $ref: "#/components/schemas/ProfileInfo"
        results_count:
          description: Количество найденных вариантов
          items:
            $ref: "#/components/schemas/ResultsCountInfo"
        round_trip_departure_on:
          type: string
          description: Дата поездки обратно в формате YYYY-MM-DDThh:mm:ss. Для всех режимов поиска услуг
        status:
          description: Статус обработки запроса
          items:
            $ref: "#/components/schemas/ServicingStatus"
        updated_at_utc:
          type: string
          description: Дата и время в UTC обновления запроса поиска
      required:
        - created_at_utc
        - favourites_count
        - is_active
        - is_expired
        - is_read
        - number
        - status
        - updated_at_utc
      type: object
    SendServiceToAuthorizationRequest:
      properties:
        auto_execution_required:
          description: Признак необходимости автоматического оформления
          type: boolean
        comment:
          description: Комментарий
          type: string
      required:
        - auto_execution_required
      type: object
    SendTripToAuthorizationRequest:
      properties:
        auto_execution_required:
          description: Признак необходимости автоматического оформления услуги
          type: boolean
        comment:
          description: Комментарий
          type: string
        state:
          $ref: "#/components/schemas/RequestedTripAuthorizationState"
      required:
        - auto_execution_required
        - state
      type: object
    ServiceDuplicateInfo:
      properties:
        duplicate_services:
          type: array
          description: Информация по дублирующим услугам 
          items:
            $ref: "#/components/schemas/ServiceNumberInfo"
        traveller_profile_id:
          type: integer
          description: ID профиля путешественника
      required:
        - traveller_profile_id
      type: object
      allOf:
        - $ref: "#/components/schemas/BaseResponse"
        - $ref: "#/components/schemas/BaseResponseExtensions"
    ServiceLight:
      properties:
        end_at:
          type: string
        end_at_utc:
          type: string
        number:
          type: integer
        order_number:
          type: integer
        service_state:
          $ref: "#/components/schemas/ServiceState"
        start_at:
          type: string
        start_at_utc:
          type: string
        type:
          type: string
        unique_identifier:
          type: string
      required:
        - number
        - order_number
        - service_state
      type: object
    ServiceNumberInfo:
      properties:
        business_trip_number:
          type: integer
          description: Номер командировки
        journey_number:
          type: integer
          description: Номер поездки
        order_number:
          type: integer
          description: Номер заказа
        service_number:
          type: integer
          description: Номер услуги
      required:
        - order_number
        - service_number
      type: object
    ServiceNumberRequest:
      properties:
        order_number:
          type: integer
          description: Номер заказа
        service_number:
          type: integer
          description: Номер услуги
      type: object
    ServicesCountInfo:
      description: Общее количество услуг
      properties:
        active_service_count:
          type: integer
          description: Количество активных услуг
        active_service_avia_count:
          type: integer
          description: Количество активных услуг Авиа
        active_service_hotel_count:
          type: integer
          description: Количество активных отельных услуг
        active_service_rail_count:
          type: integer
          description: Количество активных услуг ЖД
        inactive_service_count:
          type: integer
          description: Количество неактивных услу
        inactive_service_avia_count:
          type: integer
          description: Количество черновиков услуг Авиа
        inactive_service_hotel_count:
          type: integer
          description: Количество черновиков отельных услуг
        inactive_service_rail_count:
          type: integer
          description: Количество черновиков услуг ЖД
        service_count:
          type: integer
          description: Общее количество услуг
      required:
        - active_service_avia_count
        - active_service_count
        - active_service_hotel_count
        - active_service_rail_count
        - inactive_service_avia_count
        - inactive_service_count
        - inactive_service_hotel_count
        - inactive_service_rail_count
        - service_count
      type: object
    ServicesForBusinessTrip:
      properties:
        business_trip_number:
          type: integer
          description: Номер командировки
        business_trips_number:
          type: integer
          description: Номера командировок
        journey_number:
          type: integer
          description: Номер поездки
        order_number:
          type: integer
          description: Номер заказка
        service_number:
          type: integer
          description: Номер услуги

      required:
        - business_trips_number
        - order_number
        - service_number
      type: object
    ServiceTravellerWithReasonCodes:
      description: Услуги с указанием кодов причин
      properties:
        order_number:
          type: integer
          description: Номер заказа
        service_number:
          type: integer
          description: Номер услуги
        travellers:
          type: array
          items:
            $ref: "#/components/schemas/TravellerReasonCodeValues"
      required:
        - order_number
        - service_number
      type: object
    ServiceTravellerWithReasonCodesV2:
      properties:
        order_number:
          type: integer
        service_number:
          type: integer
        travellers:
          type: array
          items:
            $ref: "#/components/schemas/TravellerReasonCodeValuesV2"
      required:
        - order_number
        - service_number
      type: object
    ServicingCompanyInfo:
      properties:
        company:
          $ref: "#/components/schemas/Company"
        profile_levels:
          type: array
          description: Грейды, доступные в компании
          items:
            $ref: "#/components/schemas/ProfileLevel"
      type: object
    Ticket:
      description: Билеты
      properties:
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
        number:
          type: string
          description: Номер билета
        location:
          type: string
          description: Номер места. Только для ЖД
      type: object
    TravelCoordinatorRoles:
      properties:
        company:
          type: boolean
        holding:
          type: boolean
      required:
        - company
        - holding
      type: object
    Traveller:
      description: Путешественники
      properties:
        bonus_card:
          $ref: "#/components/schemas/TravellerBonusCard"
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/TravellerCustomProperty"
        documents:
          type: array
          items:
            $ref: "#/components/schemas/TravellerDocument"
        id:
          type: integer
          description: Идентификатор путешественника
        internal_identifier:
          type: string
          description: Идентификатор путешественника в Base64
        profile:
          $ref: "#/components/schemas/ProfileInfo"
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/TravellerReasonCode"
        tickets:
          type: array
          items:
            $ref: "#/components/schemas/Ticket"
        type:
          type: string
          $ref: "#/components/schemas/TravellerType"
      required:
        - id
      type: object
    TravellerAnalytics:
      properties:
        custom_properties:
          type: array
          items:
            $ref: "#/components/schemas/CustomProperty"
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/ReasonCode"
        traveller_id:
          type: integer
      required:
        - traveller_id
      type: object
    TravellerAuthorizationRequest:
      properties:
        is_authorized:
          type: boolean
        traveller_internal_identifier:
          type: string
      required:
        - is_authorized
      type: object
    TravellerBonusCard:
      description: Бонусные карты путешественника
      properties:
        id:
          type: integer
          description: Идентификатор бонусной карты
        issuer_code:
          type: string
          description: Код издателя карты
        issuer_name:
          description: Наименование издателя
          items:
            $ref: "#/components/schemas/LocalizedString"
        number:
          type: string
          description: Номер бонусной карты
      required:
        - id
      type: object
    TravellerCustomProperty:
      description: Дополнительные данные путешественника
      properties:
        client_code:
          type: string
          description: Код значения дополнительного данного в сисиеме клиента
        description:
          type: string
          description: Описание дополнительного данного
        name:
          description: Название дополнительного данного
          items:
            $ref: "#/components/schemas/LocalizedString"
        value:
          description: Значение доплнительного данного
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    TravellerDocument:
      description: Информация по документам
      properties:
        document_number:
          type: string
          description: Номер документа
        first_name:
          type: string
          description: Имя
        id:
          type: integer
          description: Идентификатор документа
        last_name:
          type: string
          description: Фамилия
        type:
          type: string
          description: Тип документа
      required:
        - id
      type: object
    TravellerInfo:
      properties:
        id:
          type: integer
          description: ID путешественника
        profile:
          $ref: "#/components/schemas/ProfileInfoWithLevel"
      type: object
      description: Инофрмация о путешественнике
    TravellerReasonCode:
      description: Причины нарушения тревел-политики компании
      properties:
        client_code:
          type: string
          description: Код причины в системе клиента
        name:
          description: Наименование причины
          items:
            $ref: "#/components/schemas/LocalizedString"
        value:
          description: Значение причины
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    TravellerReasonCodeValues:
      description: Коды причин путешственников
      properties:
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/ReasonCodeValue"
        traveller_id:
          type: integer
          description: Идентификатор путешественника
      required:
        - traveller_id
      type: object
    TravellerReasonCodeValuesV2:
      properties:
        external_profile_id:
          type: string
        reason_codes:
          type: array
          items:
            $ref: "#/components/schemas/ReasonCodeValueV2"
      type: object
    TripDestinationRequest:
      description: Пункты назначения
      properties:
        arrival_on:
          type: string
          description: Дата прибытия в город назначения в формате YYYY-MM-DD
        city_id:
          type: integer
          description: Идентификатор города назначения
        leave_on:
          type: string
          description: Дата выезда из города назначения в формате YYYY-MM-DD
        ordinal:
          type: integer
          description: Порядковый номер пункта назначения
      required:
        - arrival_on
        - city_id
        - leave_on
        - ordinal
      type: object
    UInt64:
      properties: {}
      type: object
    UpdateCustomPropertyRequest:
      properties:
        identifier:
          type: string
        value:
          type: string
      type: object
    UpdateCustomPropertyResponse:
      properties:
        error:
          type: string
        identifier:
          type: string
        is_success:
          type: boolean
      required:
        - is_success
      type: object
    UpdateProfileModel:
      properties:
        comment:
          type: string
          description: Комментарий
      type: object
      allOf:
        - $ref: "#/components/schemas/Profile"
    UpdatePushNotificationsArgs:
      properties:
        is_read:
          type: boolean
        notifications_id:
          type: array
          items:
            type: integer
      required:
        - is_read
      type: object
    VariantCountInfo:
      description: Информация о количестве вариантов поиска
      properties:
        count:
          type: integer
          description: Количество вариантов
        expires_at_utc:
          type: string
          description: Дата и время окончания актуальности запроса
      required:
        - count
      type: object
    VariantDetail:
      description: Детализация по варианту
      properties:
        service_type:
          $ref: "#/components/schemas/ServiceType"
        key:
          type: string
          description: Уникальный идентификатор варианта в виде хэша
        start_on:
          type: string
          description: Дата и время начала варианта
        end_on:
          type: string
          description: Дата и время окончания варианта
        tariff_total:
          type: integer
          description: Общая стоимость
        is_corporate_tariff:
          type: boolean
          description: Признак корпоративного тарифа
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответстви тревел-политике
        tariff_tax:
          type: number
          description: Дополнительные сборы
        corporate_tariff_code:
          type: string
          description: Код корпоративного тарифа
        start_on_utc:
          type: string
          description: Дата и время начала варианта в UTC
        end_on_utc:
          type: string
          description: Дата и время окончания варианта в UTC
        reservation_cancellation_policy:
          type: string
          description: Правила отмены
        grade_custom_list_property_value_id:
          type: integer
          description: ID значения уровня (грейда) сотрудника
        travel_policy_violation_reason:
          type: string
          description: Причина несоответствия тревел-политике
        travel_policy_violations:
          type: array
          description: Список нарушений тревел-политики
          items:
            type: string
        tariff_service_fee:
          type: integer
          description: Сервисный сбор
      required:
        - is_corporate_tariff
        - service_type
        - tariff_service_fee
        - tariff_total
      type: object
      oneOf:
        - $ref: "#/components/schemas/AviaVariantDetail"
        - $ref: "#/components/schemas/HotelVariantDetail"
        - $ref: "#/components/schemas/RailVariantDetail"
    VariantInfo:
      properties:
        currency:
          $ref: "#/components/schemas/CurrencyCode"
        is_corporate_tariff:
          type: boolean
          description: Признак корпоративного тарифа
        is_favourite:
          type: boolean
          description: Признак избранного
        key:
          type: string
          description: Уникальный идентификатор варианта в виде хэша
        option_number:
          type: integer
          description: Номер опции поиска
        sequence_number:
          type: integer
          description: "Последовательный номер. Например, для ЖД: при запросе туда-обратно опция разделяется на две, где опция 'туда' имеет sequence_number=0, 'обратно' - sequence_number=1"
        service_type:
          $ref: "#/components/schemas/ServiceType"
      oneOf:
        - $ref: "#/components/schemas/VariantInfoAvia"
        - $ref: "#/components/schemas/VariantInfoRail"
        - $ref: "#/components/schemas/VariantInfoHotel"
      required:
        - currency
        - is_corporate_tariff
        - is_favourite
        - option_number
        - service_type
      type: object
    VariantInfoAvia:
      description: Авиа
      properties:
        mini_rules:
          $ref: "#/components/schemas/MiniRule"
        union_fare_family:
          type: string
          description: Название Fare Family перелёта. Заполняется только если на всех сегментах перелёта применяется одинаковый Fare Family
        flight_option_id:
          type: string
          description: Id перелётной опции
        legs:
          $ref: "#/components/schemas/LegInfo"
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответствия Travel-Policy
        travel_policy_violations:
          type: string
          description: Список нарушений Travel-Policy
      type: object
      allOf:
        - $ref: "#/components/schemas/VariantInfoTransport"
    VariantInfoHotel:
      description: Отель
      properties:
        hotel:
          description: Информация по отелю
          items:
            $ref: "#/components/schemas/CodeDescription"
        city:
          type: string
          description: Город
          items:
            $ref: "#/components/schemas/City"
        is_direct_contract:
          type: boolean
          description: Признак прямого контракта с отелем
        stars:
          type: integer
          description: Звездность отеля
        geo_position:
          $ref: "#/components/schemas/GeoData"
        image_url:
          type: string
          description: Ссылка на изображение
        is_recommended:
          type: boolean
          description: Признак рекомендуемого отеля
        is_top_hotel:
          type: boolean
          description: Признак часто продаваемого отеля
        recommendations:
          $ref: "#/components/schemas/HotelRecommendationType"
        start_on:
          type: string
          description: Дата заеда в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        end_on:
          type: string
          description: Дата выезда в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        tariffs:
          type: string
          description: Информация о стоимости размещения
          items:
            $ref: "#/components/schemas/HotelTariffInfo"
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответсвия тревел-политики компании
        address:
          type: string
          description: Адрес отеля
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    VariantInfoRail:
      description: ЖД
      properties:
        client_id:
          type: integer
          description: Идентификатор компании, для который сделан запрос
        profile_grade_id:
          type: integer
          description: Идентификатор грейда профиля, для которого сделан запрос
        departure_at:
          type: string
          description: Дата и время отправления по местному времени
        departure_at_utc:
          type: string
          description: Дата и время отправления в UTC
        is_local_departure_at:
          type: boolean
          description: "Признак типа времени отправления: true - в departure_at местное время, false - в departure_at московское время"
        arrival_at:
          type: string
          description: Дата и время прибытия по местному времени
        arrival_at_utc:
          type: string
          description: Дата и время прибытия в UTC
        is_local_arrival_at:
          type: boolean
          description: "Признак типа времени прибытия: true - в departure_at местное время, false - в departure_at московское время"
        train_code:
          type: string
          description: Номер поезда
        train_name:
          type: string
          description: Наименование поезда
        carriage_info:
          type: array
          description: Информация о вагонах
          items:
            $ref: "#/components/schemas/CarriagesInfo"
        electronic_registration:
          type: boolean
          description: Признак возможности электронной регистрации
        duration:
          type: string
          description: Время в пути
      type: object
      allOf:
        - $ref: "#/components/schemas/VariantInfoTransport"
    VariantInfoTransport:
      description: Транспорт
      properties:
        arrival_to:
          description: Пункт прибытия
          items:
            $ref: "#/components/schemas/LocationPoint"
        departure_from:
          description: Пункт отправления
          items:
            $ref: "#/components/schemas/LocationPoint"
        tariff_total:
          type: integer
          description: Общая стоимость
        tariff_service_fee:
          type: integer
          description: Сервисный сбор
      type: object
    MiniRule:
      description: Набор условий для билета
      properties:
        category:
          type: string
          description: Условие
          enum:
            - Changeable
            - Refundable
        penalty:
          type: integer
          description: Штраф
        is_empty_rule:
          type: boolean
          description: Признак отсутсвия условия
      type: object
    LegInfo:
      description: Плечи перелета
      properties:
        departure_from:
          description: Аэропорт отправления
          items:
            $ref: "#/components/schemas/LocationPoint"
        arrival_to:
          description: Аэропорт прибытия
          items:
            $ref: "#/components/schemas/LocationPoint"
        departure_at:
          type: string
          description: Дата и время отправления по местному времени
        departure_at_utc:
          type: string
          description: Дата и время отправления в UTC
        arrival_at:
          type: string
          description: Дата и время прибытия по местному времени
        arrival_at_utc:
          type: string
          description: Дата и время прибытия в UTC
        cabin_class:
          type: string
          description: Класс
        transfers:
          type: string
          description: Количество пересадок
        duration:
          type: string
          description: Длительность перелета
        segments:
          type: array
          items:
            $ref: "#/components/schemas/SegmentInfo"
        baggage:
          items:
            $ref: "#/components/schemas/Baggage"
        seats_available:
          type: integer
          description: Количество свободных мест
      type: object
    LegDetail:
      description: Плечи перелета
      properties:
        avia_variant_option_id:
          type: integer
        departure_from:
          description: Аэропорт отправления
          items:
            $ref: "#/components/schemas/LocationPoint"
        arrival_to:
          description: Аэропорт прибытия
          items:
            $ref: "#/components/schemas/LocationPoint"
        departure_at:
          type: string
          description: Дата и время отправления по местному времени
        departure_at_utc:
          type: string
          description: Дата и время отправления в UTC
        arrival_at:
          type: string
          description: Дата и время прибытия по местному времени
        arrival_at_utc:
          type: string
          description: Дата и время прибытия в UTC
        duration:
          type: string
          description: Длительность перелета
        segments:
          type: array
          items:
            $ref: "#/components/schemas/SegmentDetail"
      type: object
    SegmentDetail:
      properties:
        departure_at:
          description: Дата и время отправления по местному времени
          type: string
        departure_at_utc:
          description: Дата и время отправления в UTC
        departure_from:
          description: Пункт отправления
          items:
            $ref: "#/components/schemas/LocationPoint"
        arrival_at_utc:
          description: Дата и время придытия в UTC
          type: string
        arrival_at:
          description: Дата и время прибытия по местному времени
          type: string
        arrival_to:
          description: Пункт прибытия
          items:
            $ref: "#/components/schemas/LocationPoint"
        flight_number:
          description: Номер рейса
          type: string
        cabin_class:
          type: string
          description: Класс
        duration:
          type: string
          description: Длительность перелета
        marketing_airline:
          $ref: "#/components/schemas/MarketingAirline"
        Operating_airline:
          $ref: "#/components/schemas/MarketingAirline"
        transfer:
          description: Трансфер
          type: string
        aircraft:
          description: Название воздушного судна
          items:
            $ref: "#/components/schemas/LocalizedString"
        fare_basis:
          description: Вид тарифа
          type: string
        fare_family:
          description: Семейство тарифов
          type: string
        baggage:
          $ref: "#/components/schemas/Baggage"
        seats_available:
          type: integer
          description: Количество свободных мест
      type: object
    HotelVariantDetail:
      description: Отель
      properties:
        hotel:
          type: string
          description: Информация по отелю
          items:
            $ref: "#/components/schemas/CodeDescription"
        city:
          type: string
          description: Город
          items:
            $ref: "#/components/schemas/City"
        stars:
          type: integer
          description: Звездность отеля
        rooms:
          $ref: "#/components/schemas/RoomDetail"
        address:
          description: Адрес отеля
          items:
            $ref: "#/components/schemas/Address"
        geo_position:
          $ref: "#/components/schemas/GeoData"
        images:
          type: array
          description: Список ссылок на изобаражения
          items:
            type: string
        hotel_images:
          description: Изображения отеля
          type: array
          items:
            $ref: "#/components/schemas/Image"
        web_site:
          type: string
          description: Сайт отеля
        is_recommended:
          type: boolean
          description: Признак рекомендуемого отеля
        rating:
          description: Рейтинг отеля
          type: integer
        is_top_hotel:
          type: boolean
          description: Признак часто продаваемого отеля
        recommendations:
          $ref: "#/components/schemas/HotelRecommendationType"
      type: object
    RoomDetail:
      properties:
        room_name:
          type: string
          description: Название номера
        total_price:
          type: integer
          description: Итоговая стоимость за все дни размещения
        actual_checkin_at:
          type: string
          description: Дата заезда в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        actual_checkin_at_utc:
          type: string
          description: Дата заезда в формате YYYY-MM-DDThh:mm:ssZ
        actual_checkout_at:
          type: string
          description: Дата выезда в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        actual_checkout_at_utc:
          type: string
          description: Дата выезда в формате YYYY-MM-DDThh:mm:ssZ
        service_type:
          type: string
          description: Тип услуги
        additional_room_info:
          type: string
          description: Дополнительная информация о номере
        is_pay_on_site:
          type: string
          description: Возможность оплатить на сайте
        asim_room_commission:
          type: integer
          description: Комиссия за номер
        booking_code:
          type: string
          description: Хэш-код для бронирования номера
        room_rate_id:
          type: string
          description: Системный идентификатор
        sale_type:
          type: string
          description: Подтверждение заказа
          enum:
            - OnRequest
            - InstantConfirmation
        meals:
          type: array
          items:
            $ref: "#/components/schemas/MealInfo"
        currency:
          type: string
          description: Код валюты
        tariff_per_night:
          type: string
          description: Стоимость номера за ночь
        index:
          type: string
          description: Индекс (в д. с. - порядковый номер) комнаты в рамках данного варианта. В дальнейшем используется при создании заказа, чтобы однозначно идентифицировать, какую комнату выбрал пользователь
        tariff_expected_cancellation_penalty:
          type: string
          description: Штраф за отмену бронирования
        tariff_vat:
          type: string
          description: Налог на стоимость
        allocation_is_limited:
          type: boolean
          description: Признак ограничения на размещение
        check_in_at:
          type: string
          description: Дата заезда в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        check_in_at_utc:
          type: string
          description: Дата заезда в формате YYYY-MM-DDThh:mm:ssZ
        check_out_at:
          type: string
          description: Дата выезда в часовом поясе пользователя в формате YYYY-MM-DDThh:mm:ss
        check_out_at_utc:
          type: string
          description: Дата выезда в формате YYYY-MM-DDThh:mm:ssZ
        room_id:
          type: string
          description: Уникальный код номера
        tariff_total:
          type: string
          description: Общая стоимость, то есть сумма за определённое кол-во суток за все категории клиентов (на данный момент - только взрослые)
        tariff_adult:
          type: string
          description: Общая стоимость для взрослых, то есть сумма за определённое кол-во суток
        is_travel_policy_compliant:
          type: string
          description: Признак соответствия тревел политики компании
        tariff_service_fee:
          type: string
          description: Сервисный сбор
        is_corporate_tariff:
          type: string
          description: Признак корпоративного тарифа
        supplier_unique_identifier:
          type: string
          description: Уникальный идентификатор поставщика услуг
        supplier_room_id:
          type: string
          description: Идентификатор комнаты
        corporate_tariff_code:
          type: string
          description: Код корпоративного тарифа
        allocation_adults:
          type: string
          description: Количество взрослых
        reservation_cancellation_policy:
          type: string
          description: Описание правил отмены бронирования
        travel_policy_violation_reason:
          type: string
          description: Причина, по которой данный номер не соответствует тревел-политике
        travel_policy_violations:
          type: string
          description: Список причин, по которой данный номер не соответствует тревел-политике
        is_hidden_price:
          type: string
          description: "Признак стоимости цен под запрос. Если true, то вместо цены отображается сообщение 'Под запрос'"
      type: object
    LocationPoint:
      properties:
        code:
          type: string
          description: Сокращенный код на латинице
        id:
          type: integer
          description: Идентификатор
        name:
          description: Название
          items:
            $ref: "#/components/schemas/LocalizedString"
        terminal:
          type: string
          description: Терминал
        city:
          description: Город
          items:
            $ref: "#/components/schemas/City"
      type: object
    City:
      description: Город
      properties:
        time_zone_offset:
          type: string
          description:
            Смещение часового пояса в часах относительно UTC+0 в формате
            'HH:00:00'
        code:
          type: string
          description: Сокращенный код города на латинице
        id:
          type: integer
          description: ID города
        name:
          description: Название города
          items:
            $ref: "#/components/schemas/LocalizedString"
        country:
          description: Страна
          items:
            $ref: "#/components/schemas/Country"
      type: object
    Country:
      description: Страна
      properties:
        code:
          type: string
          description: Сокращенный код страны на латинице
        id:
          type: integer
          description: ID страны
        name:
          description: Название страны
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    SegmentInfo:
      description: Страна
      properties:
        flight_number:
          description: Номер рейса
          type: string
        fare_basis:
          description: Вид тарифа
          type: string
        fare_family:
          description: Семейство тарифов
          type: string
        marketing_airline:
          $ref: "#/components/schemas/MarketingAirline"
      type: object
    MarketingAirline:
      description: Маркетинговый перевозчик (авиакомпания)
      properties:
        code:
          description: Код авиакомпании
          type: string
        name:
          description: Название авиакомпании
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    CarriagesInfo:
      description: Набор условий для билета
      properties:
        min_price:
          type: integer
          description: Минимальная стоимость места в вагоне
        type:
          type: string
          description: Тип вагона
          items:
            $ref: "#/components/schemas/CarriageType"
        carriage_owner:
          type: string
          description: Перевозчик
        is_travel_policy_compliant:
          type: boolean
          description: Признак соответствия тревел-политике
        travel_policy_violations:
          type: string
          description: Список причин нарушения тревел-политики
        seat_count:
          type: integer
          description: Количество мест в вагоне
      type: object
    HotelTariffInfo:
      description: Информация о стоимости размещения
      properties:
        price_per_night:
          type: integer
          description: Стоимость размещения за ночь
        payment_place:
          $ref: "#/components/schemas/PaymentPlace"
        total_price:
          type: integer
          description: Общая стоимость размещения
        service_fee:
          type: integer
          description: Сервисный сбор
        is_travel_policy_compliant:
          type: string
          description: Признак соответсвия тревел-политике
        travel_policy_violations:
          type: string
          description: Список нарушений тревел-политики
        is_corporate_tariff:
          type: string
          description: Признак корпоративного тарифа
        confirmation_type:
          $ref: "#/components/schemas/ConfirmationType"
        index:
          type: string
          description: Индекс (в д. с. - порядковый номер) тарифа в рамках данного варианта. В дальнейшем используется при получении детальной информации по тарифу (комнаты), чтобы однозначно идентифицировать, какой тариф выбрал пользователь
      type: object
    PaymentPlace:
      description: Способ оплаты
      type: string
      enum:
        - Checkin
        - Agency
    ConfirmationType:
      description: Тип подтверждения
      type: string
      enum:
        - InstantConfirmation
        - OnRequest
    AuthorizationAssertion:
      description: Необходимость авторизации поездки
      type: string
      enum:
        - NotSupported
        - Required
        - NotRequired
    AuthorizationStatus:
      description: Статус авторизации
      type: string
      enum:
        - NotSupported
        - Pending
        - InProgress
        - Authorized
        - NotAuthorized
        - Recalled
    AvailableActions:
      description: Доступные действия с услугой
      type: string
      enum:
        - Unknown
        - ContactOperator
        - Cancel
        - Change
        - Reservation
        - Execution
        - Authorization
    BankCardType:
      description: Тип банковской карты
      type: string
      enum:
        - AmericanExpress
        - MasterCard
        - Maestro
        - Visa
        - Mir
        - DinersClub
    BonusCardType:
      type: string
      description: Тип карты
      enum:
        - Avia
        - Hotel
        - Car
        - Railway
    BusinessTripStatus:
      type: string
      enum:
        - Draft
        - Active
        - Complete
        - Closed
        - Archived
        - СancellationRequested
        - Cancelled
    CarriageClassOption:
      type: string
      enum:
        - Eat
        - Paper
        - Tv
        - Transfer
        - Conditioner
        - Bed
        - SanitarySet
        - Wifi
    CarriageType:
      type: string
      description: Тип вагона
      enum:
        - Lux
        - Vip
        - Coupe
        - Reserved
        - Seat
        - Common
        - Any
    CompartmentType:
      type: string
      description: Тип купе
      enum:
        - WoDesc
        - Man
        - Female
        - NotDefined
        - Mixed
    ConcreteServiceType:
      type: string
      enum:
        - Unknown
        - Avia
        - Rail
        - Hotel
        - AeroExpress
        - Insurance
        - Transfer
        - Visa
        - VIP
        - CarRental
        - RailEurope
        - Transport
        - Additional
    CurrencyCode:
      type: string
      description: Код валюты
      enum:
        - Unknown
        - USD
        - RUB
        - DEM
        - CAD
        - FRF
        - NUC
        - ESP
        - GBP
        - MAD
        - CYP
        - BEF
        - CZK
        - KRW
        - JPY
        - CHF
        - LKR
        - IEP
        - FIM
        - SEK
        - ZAR
        - NLG
        - DKK
        - PTE
        - EGP
        - JOD
        - ATS
        - HUF
        - SGD
        - MYR
        - GRD
        - HKD
        - THB
        - CNY
        - NOK
        - AUD
        - MTL
        - SIT
        - LUF
        - MUR
        - AED
        - GIP
        - EUR
        - SKK
        - KWD
        - PKR
        - EEK
        - SYP
        - SCR
        - IRR
        - INR
        - LVL
        - КЗТ
        - KZT
        - PLN
        - QAR
        - LTL
        - BHD
        - OMR
        - AZN
        - UAH
        - AMD
        - BGN
        - BRL
        - BYR
        - KGS
        - MDL
        - RON
        - TJS
        - TMT
        - TRY
        - UZS
        - XDR
        - AFN
        - ALL
        - ANG
        - AOA
        - ARS
        - AWG
        - BAM
        - BBD
        - BDT
        - BIF
        - BMD
        - BND
        - BOB
        - BOV
        - BSD
        - BTN
        - BWP
        - BYN
        - BZD
        - CDF
        - CHE
        - CHW
        - CLF
        - CLP
        - COP
        - COU
        - CRC
        - CUC
        - CUP
        - CVE
        - DJF
        - DOP
        - DZD
        - ERN
        - ETB
        - FJD
        - FKP
        - GEL
        - GHS
        - GMD
        - GNF
        - GTQ
        - GYD
        - HNL
        - HRK
        - HTG
        - IDR
        - ILS
        - IQD
        - ISK
        - JMD
        - KES
        - KHR
        - KMF
        - KPW
        - KYD
        - LAK
        - LBP
        - LRD
        - LSL
        - LYD
        - MGA
        - MKD
        - MMK
        - MNT
        - MOP
        - MRO
        - MVR
        - MWK
        - MXN
        - MXV
        - MZN
        - NAD
        - NGN
        - NIO
        - NPR
        - NZD
        - PAB
        - PEN
        - PGK
        - PHP
        - PYG
        - RSD
        - RWF
        - SAR
        - SBD
        - SDG
        - SHP
        - SLL
        - SOS
        - SRD
        - SSP
        - STD
        - SVC
        - SZL
        - TND
        - TOP
        - TTD
        - TWD
        - TZS
        - UGX
        - USN
        - UYI
        - UYU
        - VEF
        - VND
        - VUV
        - WST
        - XAF
        - XAG
        - XAU
        - XBA
        - XBB
        - XBC
        - XBD
        - XCD
        - XOF
        - XPD
        - XPF
        - XPT
        - XSU
        - XTS
        - XUA
        - XXX
        - YER
        - ZMW
        - ZWL
    DocumentType:
      type: string
      description: Тип документа
      enum:
        - Passport
        - LocalPassport
        - NationalPassport
        - BirthCertificate
        - SeamanPassport
        - MilitaryPassport
        - Visa
        - NotSpecified
    EnumSex:
      type: string
      description: Пол
      enum:
        - Undefined
        - Male
        - Female
    InsertOrUpdateType:
      type: string
      enum:
        - Unknown
        - Insert
        - Update
    Lang:
      type: string
      enum:
        - Undefined
        - Ru
        - En
    LocationType:
      type: string
      description:
        Тип локации. В зависимости от метода поле может отсутствовать. В
        этом случае определяйте тип объекта по наименованию поля, в котором он
        был передан
      enum:
        - Undefined
        - Airport
        - RailwayStation
        - City
        - Country
    LookupItemTypes:
      type: string
      enum:
        - Undefined
        - Country
        - City
        - RailwayStation
        - Hotel
        - Airport
        - Airline
        - AirlineAlliance
    MobilePlatform:
      type: string
      enum:
        - Unknown
        - Ios
        - Android
    Mode:
      type: string
      enum:
        - Orders
        - BusinessTrips
    OptionRequestStatus:
      type: string
      description: Статус поиска
      enum:
        - Pending
        - InProgress
        - Completed
    OrderStatus:
      type: string
      enum:
        - Draft
        - Active
        - Archived
    PaymentType:
      description: Код способа оплаты
      type: string
      enum:
        - Unknown
        - Cash
        - Invoice
        - Bta
        - CreditCard
        - CreditCardNoSof
        - Debit
    RailCompartmentType:
      type: string
      description: Тип места
      enum:
        - WoDesc
        - Man
        - Female
        - NotDefined
        - Mixed
    RequestedTripAuthorizationState:
      type: string
      description: Запрашиваемое состояние авторизации
      enum:
        - Authorize
        - Recall
        - Draft
    ServiceState:
      description: Состояние услуги
      type: string
      enum:
        - Unknown
        - Reservation
        - Refunding
        - Servicing
        - Execution
        - Exchanged
        - NoPlaces
        - Expired
        - Rejected
    ServiceStatus:
      description: Статус услуги
      type: string
      enum:
        - Draft
        - Archived
        - Active
    ServiceType:
      description: Тип услуги
      type: string
      enum:
        - Undefined
        - Avia
        - Rail
        - Hotel
        - AeroExpress
        - Insurance
        - Transfer
        - Visa
        - VIP
        - CarRental
        - RailEurope
    SearchServiceType:
      description: Тип услуги
      type: string
      enum:
        - Avia
        - Rail
        - Hotel
    ServicingStatus:
      type: string
      enum:
        - Completed
        - Pending
        - InProgress
    Sex:
      type: string
      description: Пол
      enum:
        - Undefined
        - Male
        - Female
    Status:
      type: string
      description: Статус профиля
      enum:
        - Active
        - Inactive
        - AwaitingAuthorization
        - PendingActivation
        - Unknown
    Title:
      type: string
      description: Обращение к профилю
      enum:
        - Undefined
        - Dr
        - Mrs
        - Ms
        - Mr
    TrainCategory:
      type: string
      enum:
        - Fast
        - HighSpeed
    DataResponseOfBusinesTripCancellationResult:
      properties:
        data:
          $ref: "#/components/schemas/BusinesTripCancellationResult"
        message:
          type: string
          description: Сообщение о выполнении запроса для пользователя
        errors:
          type: string
          description: Список ошибок
        is_success:
          type: boolean
          description: Признак успешно выполненного запроса
      type: object
    BusinesTripCancellationResult:
      properties:
        journey_number:
          type: integer
          description: Номер поездки
        business_trip_number:
          type: integer
          description: Номер командировки
        cancellation_status:
          type: string
          description: Статус отмены командировки
          enum:
            - Unknown
            - InProgress
            - Complete
      type: object
      description: Информация по отмене командировки
    BusinessTripChangeDatesRequest:
      properties:
        destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripChangeDatesDestinations"
      type: object
      description: Тело запроса для изменения дат командировки
    BusinessTripChangeDatesDestinations:
      properties:
        city_id:
          type: integer
          description: Идентификатор города назначения
        arrival_on:
          type: string
          description: Дата и время прибытия
        leave_on:
          type: string
          description: Дата и время убытия
        ordinal:
          type: integer
          description: Порядковый номер пункта назначения
      type: object
      description: Пункты назначения командировки
    BusinessTripChangeDatesResult:
      properties:
        is_authorization_required:
          type: boolean
          description: Признак необходимости авторизации для выполнения изменения дат командировки
        errors:
          type: array
          description: Список ошибок
          items:
            type: string
        is_success:
          type: string
          description: Признак успешно выполненного запроса
      type: object
      description: Результат выполнения запроса
    BusinessTripChangeDatesInfo:
      properties:
        journey_number:
          type: integer
          description: Номер поездки
        business_trip_number:
          type: integer
          description: Номер командировки
        destinations:
          type: array
          items:
            $ref: "#/components/schemas/BusinessTripChangeDatesDestinations"
      type: object
      description: Результат выполнения запроса
    BusinessTripAuthPost:
      type: object
      properties:
        business_trip_stage:
          type: integer
          description: "Тип сообщения. Возможные варианты: Unknow - комментарий не относится к авторизации, Fact - факт поездки, Services - набор услуг, AdditionalService - дополнительная услуга"
        id:
          type: integer
          description: Идентификатор сообщения
        message:
          type: string
          description: Текст сообщения
        posted_by:
          $ref: "#/components/schemas/ProfileInfo"
        posted_at_utc:
          type: string
          description: Время отправки сообщения в UTC. Формат YYYY-MM-ddThh:mm:ssZ
        read:
          type: boolean
          description: Статус прочтения
        is_my_message:
          type: boolean
          description: Признак принадлежности сообщения текущему пользователю
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
    IServiceDetailWithPosts:
      description: Услуги с постами
      allOf:
        - $ref: "#/components/schemas/Services"
        - properties:
            comments:
              type: array
              items:
                $ref: "#/components/schemas/Post"
      type: object
    Aeroexpress:
      description: "Информация по услуге Аэроэкспресс. Передается с 'type': AeroExpress"
      allOf:
        - $ref: "#/components/schemas/IServiceDetail"
        - properties:
            departure_from:
              description: Пункт отправления
              items:
                $ref: "#/components/schemas/Location"
            arrival_to:
              description: Пункт прибытия
              items:
                $ref: "#/components/schemas/Location"
            duration:
              description: Длительность поездки
              type: string
            class_of_service:
              description: Класс обслуживания
              items:
                $ref: "#/components/schemas/CodeDescription"
          type: object
    Avia:
      description: "Информация по услуге Авиа. Передается с 'type': Avia"
      allOf:
        - $ref: "#/components/schemas/IServiceDetail"
        - properties:
            relations:
              type: array
              items:
                $ref: "#/components/schemas/Relations"
            avia_leg:
              type: array
              items:
                $ref: "#/components/schemas/AviaLeg"
          type: object
    Hotel:
      description: "Информация по услуге Отель. Передается с 'type': Hotel"
      allOf:
        - $ref: "#/components/schemas/IServiceDetail"
        - properties:
            rating:
              description: Рейтинг отеля
              type: integer
            category:
              description: Категория отеля
              items:
                $ref: "#/components/schemas/LocalizedString"
            allocation_adults:
              description: Количество взрослых
              type: integer
            is_early_checkin:
              description: Признак возможной ранней регистрации в отеле
              type: boolean
            is_late_check_out:
              description: Признак возможного позднего выезда из отеля
              type: boolean
            hotel_conformation_code:
              description: Код подтверждения бронирования
              type: string
            execution_comment:
              description: Комментарий к бронированию отеля
              type: string
            additional_comment:
              description: Дополнительный комментарий к услуге
              type: string
            room:
              description: Информация по номеру
              items:
                $ref: "#/components/schemas/Room"
            stars:
              description: Количество звезд отеля
              type: integer
            name:
              description: Название отеля
              items:
                $ref: "#/components/schemas/LocalizedString"
            image:
              description: Изображение отеля
              items:
                $ref: "#/components/schemas/Image"
            location:
              description: Местоположение отеля
              items:
                $ref: "#/components/schemas/Location"
            address:
              description: Адрес отеля
              items:
                $ref: "#/components/schemas/Address"
            actual_checkin_at:
              description:
                Время регистрации в часовом поясе пользователя. Формат
                YYYY-MM-DDThh:mm:ss
              type: string
            actual_checkin_at_utc:
              description: Время регистрации. Формат YYYY-MM-DDThh:mm:ssZ
              type: string
            actual_checkout_at:
              description: Время выезда в часовом поясе пользователя. Формат
                YYYY-MM-DDThh:mm:ss
              type: string
            actual_checkout_at_utc:
              description: Время выезда. Формат YYYY-MM-DDThh:mm:ssZ
              type: string
            is_payment_in_place:
              description: Признак оплаты на месте
              type: boolean
            nights:
              description: Количество ночей
              type: integer
            tariff_per_night:
              description: Стоимость за ночь
              type: integer
          type: object
    Rail:
      description: "Информация по услуге ЖД. Передается с 'type': Rail"
      allOf:
        - $ref: "#/components/schemas/IServiceDetail"
        - properties:
            duration:
              description: Длительность поездки
              type: string
            is_local_time:
              description: ""
              type: boolean
            departure_at:
              description: Дата и время отправления по местному времени
              type: string
            departure_at_utc:
              description: Дата и время отправления в UTC
              type: string
            arrival_at:
              description: Дата и время прибытия по местному времени
              type: string
            arrival_at_utc:
              description: Дата и время прибыти в UTC
              type: string
            departure_from:
              description: Пункт отправления
              items:
                $ref: "#/components/schemas/Location"
            arrival_to:
              description: Пункт прибытия
              items:
                $ref: "#/components/schemas/Location"
            train:
              description: Информация о поезде
              items:
                $ref: "#/components/schemas/Train"
            carriage:
              description: Информация по вагону
              items:
                $ref: "#/components/schemas/Carriage"
          type: object
    Transfer:
      description: "Информация по услуге Трансфер. Передается с 'type': Transfer"
      allOf:
        - $ref: "#/components/schemas/IServiceDetail"
        - properties:
            departure_from_location:
              description: Пункт отправления
              items:
                $ref: "#/components/schemas/LocalizedString"
            arrival_to_location:
              description: Пункт прибытия
              items:
                $ref: "#/components/schemas/LocalizedString"
            departure_city:
              description: Город отправления
              items:
                $ref: "#/components/schemas/Location"
            arrival_city:
              description: Город прибытия
              items:
                $ref: "#/components/schemas/Location"
            departure_location_type:
              $ref: "#/components/schemas/TransferLocationType"
            arrival_location_type:
              $ref: "#/components/schemas/TransferLocationType"
            departure_from_number:
              description: Номер рейса или поезда отправления
              type: string
            arrival_to_number:
              description: Номер рейса или поезда прибытия
              type: string
            description:
              description: Описание
              type: string
            pickup_card_text:
              description: Текст таблички
              type: string
            flight_number:
              description: Номер рейса
              type: string
            car_classification:
              $ref: "#/components/schemas/CarClassification"
          type: object
    Relations:
      description: Связи
      properties:
        relation_type:
          $ref: "#/components/schemas/ServiceRelationType"
        service:
          description: Информация по связи
          items:
            $ref: "#/components/schemas/IServiceInfo"
        tariff_fare:
          description: Тариф
          type: integer
      type: object
    AviaLeg:
      description: Плечи
      properties:
        segments:
          description: Сегменты
          items:
            $ref: "#/components/schemas/Segments"
        departure_from:
          description: Пункт отправления
          items:
            $ref: "#/components/schemas/LocationPoint"
        arrival_to:
          description: Пункт прибытия
          items:
            $ref: "#/components/schemas/LocationPoint"
        transfers:
          description: Количество пересадок
          type: integer
        duration:
          description: Длительность полета
          type: string
        arrival_at_utc:
          description: Дата и время придытия в UTC
          type: string
        arrival_at:
          description: Дата и время прибытия по местному времени
          type: string
        departure_at_utc:
          description: Дата и время отправления в UTC
          type: string
        departure_at:
          description: Дата и время отправления по местному времени
          type: string
        id:
          description: Идентификатор
          type: integer
      type: object
    Segments:
      description: Информация по сегментам
      properties:
        airline:
          $ref: "#/components/schemas/AirLine"
        baggage:
          $ref: "#/components/schemas/Baggage"
        class_of_service:
          description: Класс обслуживания
          items:
            $ref: "#/components/schemas/CodeDescription"
        duration:
          description: Длительность перелета
          type: string
        booking_class:
          description: Класс бронирования
          items:
            $ref: "#/components/schemas/CodeDescription"
        flight_number:
          description: Номер рейса
          type: string
        arrival_at_utc:
          description: Дата и время прибытия в UTC
          type: string
        arrival_at:
          description: Дата и время прибытия по метсному времени
          type: string
        departure_at_utc:
          description: Дата и меня отправления в UTC
          type: string
        departure_at:
          description: Дата и время отправления по местному времени
          type: string
        departure_from:
          description: Пункт отправления
          items:
            $ref: "#/components/schemas/Location"
        arrival_to:
          description: Пункт прибытия
          items:
            $ref: "#/components/schemas/Location"
        marketing_airline_code:
          description: Код маркетингового перевозчика
          type: string
        id:
          description: Идентификатор
          type: integer
        air_company_reservation_control_number:
          description: ""
          type: string
        flight_status:
          $ref: "#/components/schemas/FlightStatus"
        actual_arrival_at_utc:
          description: Актуальные дата и время прибытия по UTC
          type: string
        actual_arrival_at:
          description: Актуальные дата и время прибытия по метсному времени
          type: string
        actual_departure_at_utc:
          description: Актуальные дата и время отправления по UTC
          type: string
        actual_departure_at:
          description: Актуальные дата и время отправления по местному времени
          type: string
        aircraft:
          description: Название воздушного судна
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    AirLine:
      description: Информация об авиакомпании
      properties:
        name:
          description: Название авиакомпании
          items:
            $ref: "#/components/schemas/LocalizedString"
        code:
          description: IATA-код
          type: integer
        code_ru:
          description: ТКП-код
          type: integer
        registration_links:
          description: Ссылки на регистрацию на рейс
          items:
            $ref: "#/components/schemas/AirlineRegistrationLinks"
      type: object
    AirlineRegistrationLinks:
      description: ""
      properties:
        web_link:
          description: ""
          items:
            $ref: "#/components/schemas/LocalizedString"
        pda_link:
          description: ""
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    Baggage:
      description: Информация по багажу
      properties:
        type:
          $ref: "#/components/schemas/BaggageType"
        quantity:
          description: Количество
          type: integer
        weigh_measurement:
          description: Вес
          type: integer
      type: object
    Image:
      properties:
        url:
          description: Ссылка на изображение
          type: string
        preview_url:
          description: Ссылка не превью
          type: string
      type: object
    Room:
      description: Информация по номере
      properties:
        meal:
          type: array
          items:
            $ref: "#/components/schemas/MealInfo"
        sale_type:
          description: Признак открытой продажи или под запрос
          type: string
          enum:
            - Unknown
            - FreeSale
            - OnRequest
        name:
          description: Название комнаты
          items:
            $ref: "#/components/schemas/LocalizedString"
      type: object
    Meal:
      description: Информация по питанию
      properties:
        name:
          description: Тип питания
          type: string
        code:
          description: Код типа питания
          type: string
        price:
          description: Стоимость питания
          type: integer
        is_included_in_price:
          description: Признак включения питания в общую стоимость услуги
          type: boolean
      type: object
    MealInfo:
      description: Информация по питанию
      properties:
        name:
          description: Тип питания
          type: string
        code:
          description: Код типа питания
          type: string
        price:
          description: Стоимость питания
          type: integer
        is_included_in_price:
          description: Признак включения питания в общую стоимость услуги
          type: boolean
        MealType:
          description: Тип питания
          type: string
          enum:
            - NoMeal
            - MealIncludedInPrice
            - AddiditionalMeal
            - Unknow
      type: object
    Train:
      properties:
        name:
          description: Название поезда
          items:
            $ref: "#/components/schemas/LocalizedString"
        category_name:
          description: Категория поезда (скорый/скоростной)
          type: string
        number:
          description: Номер поезда
          type: string
      type: object
    Carriage:
      properties:
        type:
          description: Тип вагона
          items:
            $ref: "#/components/schemas/LocalizedString"
        class_of_service:
          description: Класс обслуживания
          items:
            $ref: "#/components/schemas/CodeDescription"
        number:
          description: Номер вагода
          type: string
        owner:
          description: Владелец вагона
          type: string
        electronic_registration_allowed:
          description: Признак возможности электронной регистрации
          type: boolean
      type: object
    Services:
      description: Услуги
      anyOf:
        - $ref: "#/components/schemas/Aeroexpress"
        - $ref: "#/components/schemas/Avia"
        - $ref: "#/components/schemas/Hotel"
        - $ref: "#/components/schemas/Rail"
        - $ref: "#/components/schemas/Transfer"
      type: object
    AirlineLookupItem:
      description: "Информация по авиакомпании. Передается с 'type': Airline"
      allOf:
        - $ref: "#/components/schemas/LookupItem"
        - properties:
            ticket_code:
              description: Расчетный код авиакомпании
              type: string
          type: object
    AirportLookupItem:
      description: "Информация по аэропорту. Передается с 'type': Airport"
      allOf:
        - $ref: "#/components/schemas/LookupItem"
        - properties:
            city:
              description: Город аэропорта
              items:
                $ref: "#/components/schemas/Location"
          type: object
    CityLookupItem:
      description: "Информация по городу. Передается с 'type': City"
      allOf:
        - $ref: "#/components/schemas/LookupItem"
        - properties:
            located_in:
              description: Местонахождение города (страна)
              items:
                $ref: "#/components/schemas/Location"
          type: object
    HotelLookupItem:
      description: "Информация по отелю. Передается с 'type': Hotel"
      allOf:
        - $ref: "#/components/schemas/LookupItem"
        - properties:
            city:
              description: Город отеля
              items:
                $ref: "#/components/schemas/Location"
            address:
              description: Адрес отеля
              items:
                $ref: "#/components/schemas/LocalizedString"
          type: object
    RailwayStationLookupItem:
      description: "Информация по ЖД станции. Передается с 'type': RailwayStation"
      allOf:
        - $ref: "#/components/schemas/LookupItem"
        - properties:
            city:
              description: Город ЖД станции
              items:
                $ref: "#/components/schemas/Location"
          type: object
    ServiceRelationType:
      description: Тип связи
      type: string
      enum:
        - Undefined
        - MinimumTariff
        - MaximumTariff
        - MinimumCorporateTariff
        - MaximumCorporateTariff
        - MinimumTravelPolicyCompliantTariff
        - MaximumTravelPolicyCompliantTariff
        - MinimumDirectTariff
        - MaximumDirectTariff
        - FullTariff
        - PreviousUnauthorized
    FlightStatus:
      description: Статус рейса
      type: string
      enum:
        - Unknown
        - Scheduled
        - DepartureDelayed
        - ArrivalDelayed
        - Cancelled
    BaggageType:
      description: Тип багажа
      type: string
      enum:
        - NotSet
        - Weight
        - Seats
    TravellerType:
      description: Тип путешественника
      type: string
      enum:
        - Adult
    TransferLocationType:
      description: Тип локации для трансфера
      type: string
      enum:
        - Airport
        - RailwayStation
        - Address
    CarClassification:
      description: Класс автомобиля
      type: string
      enum:
        - Any
        - Standart
        - Business
        - Minivan
        - Minibus
        - Econom
        - Representative
        - Bus
        - Comfort
    LookupItemType:
      description: Тип искомых объектов
      type: string
      enum:
        - Undefined
        - Country
        - City
        - RailwayStation
        - Hotel
        - Airport
        - Airline
        - AirlineAlliance
    BusinessTripStage:
      description: Этап командировки
      type: string
      enum:
        - Fact
        - Services
        - AdditionalService
    HotelRecommendationType:
      description: Тип рекомендации отеля
      type: string
      enum:
        - Recommended
        - BlackListed
        - RecommendedAeroclub
        - BlackListedAeroclub
        - IQOS
